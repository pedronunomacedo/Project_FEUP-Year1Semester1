(function(f,j,d){var k="roistat_visit",n="roistat_first_visit",q="roistat_is_need_listen_requests",e="roistat_visit_cookie_expire",c="1209600",h={expires:parseInt(c),path:"/"},l={expires:10*365*24*60*60,path:"/"};var i=function(t){try{return decodeURIComponent(t)}catch(u){var s;s=g(t);if(s===null){return t}return s}};var g=function(w){var v={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var t="";var u=0;while(u<w.length){var s=w.substring(u,u+3);if(Object.prototype.hasOwnProperty.call(v,s)){t+=v[s];u+=3}else{t+=w.substring(u,u+1);u++}}try{return decodeURIComponent(t)}catch(x){return null}};var r,m;r=f.roistatGetCookie=function(s){var t=j.cookie.match(new RegExp("(?:^|; )"+s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?i(t[1]):d};m=f.roistatSetCookie=function(v,x,u){u=u||{};var t=u.expires;if(typeof t=="number"&&t){var z=new Date();z.setTime(z.getTime()+t*1000);t=u.expires=z}if(t&&t.toUTCString){u.expires=t.toUTCString()}x=encodeURIComponent(x);var s=v+"="+x;for(var w in u){s+="; "+w;var y=u[w];if(y!==true){s+="="+y}}j.cookie=s};if(f.roistatCookieDomain){h.domain=f.roistatCookieDomain;l.domain=f.roistatCookieDomain}var p={isAvailable:function(){var s=false;if(!f.localStorage||!f.localStorage.setItem||!f.localStorage.getItem||!f.localStorage.removeItem){return s}try{f.localStorage.setItem("testKey","testValue");s=f.localStorage.getItem("testKey")==="testValue";f.localStorage.removeItem("testKey")}catch(t){}return s},save:function(t,u,s){if(this.isAvailable()){localStorage.setItem(t,u)}m(t,u,s)},get:function(t){var s=null;if(this.isAvailable()){s=localStorage.getItem(t)}if(s===null){s=r(t)}return s}};var o="147257";o=parseInt(o)>0?o:0;m(k,o,h);if(!(r(k)>0)){p.save(k,o,h)}if(!(p.get(n)>0)){p.save(n,o,l)}if(!(p.get(e)>0)){p.save(e,c,h)}var b="0";p.save(q,b);var a="0";f.roistatIsInitVisit=!(parseInt(a)>0);f.roistatVisitId=o;f.roistatMetrikaCounterId="17345305"})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bF,u,bb){var a0=false,H="164",b6=42,q=bF.roistatHost,al="0.2",Q="1.0",cd="roistat_visit_cookie_expire",by="roistat_visit",ay="roistat_first_visit",V="roistat_is_need_listen_requests",cA="roistat_phone",ak="roistat_referrer",cg="roistat_marker",aO="roistat_marker_old",a6="roistat_ab",bV="rs",v="roistat",M="leadhunter_expire",B=5*60*60,bc="roistat_leadHunterEnabled",m="roistat_leadHunterTargetPagesMap",aw="roistat_leadHunterScriptId",I="roistat_isleadHunterScriptIdActive",aL="roistat_multiwidgetEnabled",bq="roistat_multiwidgetVKEnabled",b3="roistat_multiwidgetVKLink",C="roistat_multiwidgetFBEnabled",cm="roistat_multiwidgetFBLink",bS="roistat_multiwidgetTelegramEnabled",aZ="roistat_multiwidgetTelegramLink",b1="roistat_onlineChatEnabled",d=7*24*60*60,b8={expires:d,path:"/"},R="roistat-promo",X="roistat-phone",t="roistat-phone-country",S="roistat-phone-region",w="roistat-phone-number",ct="roistat-phone-tel",bi="country",aq="region",aS="number",bt="tel",k="roistat_call_tracking",J="roistat-js-script",a4="roistat_phone_replacement",aT="roistat_phone_script_data",b5="roistat-visit-id",az="roistat_metrika_counter_id",g="roistat_marker_from_referrer",a3="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bf="roistat_emailtracking_emails",cv="roistat_proxy_forms",ca="roistat_isMultiDomain",bY=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bz="roistat_debug",aC="roistat_settings_saved",bK="nocookie",aA=["yandex.ru"],ai="beta_test";
var cl=q.replace(/^cloud\./,"");var ch="collector."+cl;var bp={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bA={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var b7={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bF.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bF.roistatAlreadyStarted=true;if(bF.roistatCookieDomain){b8.domain=bF.roistatCookieDomain}bF.roistat={version:H,getSource:function(){return bA.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cF){bA.visitFromUser=cF},registerOnVisitProcessedCallback:function(cF){bR(cF)},registerOnCalltrackingPhoneReceivedCallback:function(cF){a1(cF)},disableCallTracking:function(){bp.callTrackingEnabled=false},setCallTrackingManualMode:function(){bp.callTrackingManual=true},setJSONPRequestTimeout:function(cF){bp.jsonpRequestTimeout=cF},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){p("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},notificationsCustomHolderSelector:null},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(cF){ag(cF,bb)},authClientByEmail:function(cF){ag(bb,cF)}};var ag=function(cF,cI){if(!bA.isVisitProcessed){p("Visit is not processed, return");return}var cJ=cF!==bb&&cF.length>0,cM=cI!==bb&&cI.length>0;if(!cJ&&!cM){p("Invalid client params, return");return}var cK=l();if(cK<=0){p("Invalid arguments, return");return}var cL="roistat_authorized_client",cN=bC.get(cL),cH=cJ?cF:cI;if(cN===cH){p('Client "'+cH+'" is already authorized, return');return}p("Auth client: "+cH);bC.set(cL,cH);var cG=A()+"/update-visit-by-client?visit="+cK+"&v="+H;if(cJ){cG+="&client_id="+encodeURIComponent(cF)}if(cM){cG+="&client_email="+encodeURIComponent(cI)}ax(cG)};var co=function(cI,cG){var cH=cI.length;for(var cF=0;cF<cH;cF++){if(cG===cI[cF]){return true}}return false};var N=function(){return h(ai)>0};var aF=function(){return bF.roistatProjectId};var bU=function(){return aF().replace(/\D/g,"")};var aV=function(cF){var cG=bU();return co(cF,cG)};var b0=function(cF){return JSON.parse(JSON.stringify(cF))};var a7=function(){var cG=b0(b8),cF=parseInt(bC.get(cd));cG.expires=cF>0?cF:d;return cG};var bR=function(cF){if(!bA.isVisitProcessed){b7.onVisitProcessed.push(cF)}else{cF()}};var b2=function(){bA.isVisitProcessed=true;p("[Roistat] visit id set. Processing callbacks");var cG=b7.onVisitProcessed.length;for(var cF=0;cF<cG;cF++){b7.onVisitProcessed[cF]()}if(bF.roistatVisitCallback!==bb){bF.roistatVisitCallback(bF.roistat.getVisit())}};var a1=function(cF){b7.onCallTrackingPhoneReceived.push(cF)};var cn=function(){var cG=b7.onCallTrackingPhoneReceived.length;for(var cF=0;cF<cG;cF++){b7.onCallTrackingPhoneReceived[cF]()}};var ad=function ad(cF){b7.onSPAPageChanged.push(cF)};var bw=function bw(){p("[Roistat] SPA page changed. Processing callbacks");var cG=b7.onSPAPageChanged.length;for(var cF=0;cF<cG;cF++){b7.onSPAPageChanged[cF]()}};var T=function(cJ,cI){var cH=cJ.className.split(" "),cG=false,cF;for(cF=0;cF<cH.length;cF++){if(cH[cF]===cI){cG=true;break}}if(!cG){cH.push(cI);cJ.className=cH.join(" ")}};var bx=function(cI,cH){var cG=cI.className.split(" "),cF;for(cF=0;cF<cG.length;cF++){if(cG[cF]===cH){cG.splice(cF,1);cI.className=cG.join(" ");break}}};var ah=function(cG){try{return decodeURIComponent(cG)}catch(cH){var cF;cF=r(cG);if(cF===null){return cG}return cF}};var bn={visitor_uid:function(){p("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cE(bF.AMOPIXEL_IDENTIFIER)||!E(bF.AMOPIXEL_IDENTIFIER.getVisitorUid)){p("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cF=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aB(cF)){p("AmoCrmUID: visitor_uid value must be a string");return null}return cF}};var af=function(){for(var cG in bn){var cF=bn[cG]();if(cF===null){continue}cu(cG,cF,b8)}};var aP=function(){return["_ym_uid","_ga"].concat(x(bn))};var r=function(cJ){var cI={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var cG="";var cH=0;while(cH<cJ.length){var cF=cJ.substring(cH,cH+3);if(Object.prototype.hasOwnProperty.call(cI,cF)){cG+=cI[cF];cH+=3}else{cG+=cJ.substring(cH,cH+1);cH++}}try{return decodeURIComponent(cG)}catch(cK){return null}};bF.roistatVersion=H;var a5,G=[],bO=aV(["9978269456320005528414"]),i,bM=true,bQ=u.location.href,aQ="",av="",aX=new Date().getTime(),cf=false,bX=bF.roistatPhonePrefix?bF.roistatPhonePrefix:"",cB=bF.roistatPhonePrefixBind?bF.roistatPhonePrefixBind:"",D=bF.roistatCalltrackingScripts&&bF.roistatCalltrackingScripts.join?bF.roistatCalltrackingScripts.join(","):"";var h,cu;h=bF.roistatGetCookie=function(cF){var cG=u.cookie.match(new RegExp("(?:^|; )"+cF.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return cG?ah(cG[1]):bb};cu=bF.roistatSetCookie=function(cI,cK,cH){cH=cH||{};var cG=cH.expires;if(typeof cG=="number"&&cG){var cM=new Date();cM.setTime(cM.getTime()+cG*1000);cG=cH.expires=cM}if(cG&&cG.toUTCString){cH.expires=cG.toUTCString()}cK=encodeURIComponent(cK);var cF=cI+"="+cK;for(var cJ in cH){cF+="; "+cJ;var cL=cH[cJ];if(cL!==true){cF+="="+cL}}u.cookie=cF};var ba=function(cG,cI,cH){var cF=cG[cI];cG[cI]=function(){if(cF){cF.apply(this,arguments)}cH.apply(this,arguments)}};var P=function(cH,cG,cI){if(cH.addEventListener){cH.addEventListener(cG,cI,false);return}var cF="on"+cG;if(cH.attachEvent){cH.attachEvent(cF,cI);return}if(cF in cH){ba(cH,cF,cI);return}if(cG in cH){ba(cH,cG,cI);return}p("Handler could not be attached")};var n=function(cI,cH){var cG=cI.length;for(var cF=0;cF<cG;cF++){cH(cI[cF])}};var x=function(cF){var cG=[];aW(cF,function(cH,cI){cG.push(cH)});return cG};var aW=function(cF,cH){for(var cG in cF){if(Object.prototype.hasOwnProperty.call(cF,cG)){cH(cG,cF[cG])}}};var a2=function(cF){return Object.prototype.toString.call(cF)==="[object Array]"};var ar=function(cG){if(typeof cG!=="object"){return false}for(var cF in cG){if(cG.hasOwnProperty(cF)){return true}}return false};var cq=function(cG){try{var cF=JSON.parse(cG);if(cF&&typeof cF==="object"){return cF}}catch(cH){}return null};if(u.getElementsByClassName==bb){u.getElementsByClassName=function(cG){var cF=[];var cK=new RegExp("\\b"+cG+"\\b");var cJ=this.getElementsByTagName("*");for(var cI=0;cI<cJ.length;cI++){var cH=cJ[cI].className;if(cK.test(cH)){cF.push(cJ[cI])}}return cF}}var aj=function(){return String.fromCharCode};var b4=function(cH){var cF="";for(var cG=0;cG<cH.length;++cG){cF+=aj()(b6^cH.charCodeAt(cG))}return cF};var ao=function(cF){return encodeURIComponent(b4(bH.encode(cF)))};var bH={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(cH){var cF="";var cO,cM,cK,cN,cL,cJ,cI;var cG=0;cH=bH._utf8_encode(cH);while(cG<cH.length){cO=cH.charCodeAt(cG++);cM=cH.charCodeAt(cG++);cK=cH.charCodeAt(cG++);cN=cO>>2;cL=((cO&3)<<4)|(cM>>4);cJ=((cM&15)<<2)|(cK>>6);cI=cK&63;if(isNaN(cM)){cJ=cI=64}else{if(isNaN(cK)){cI=64}}cF=cF+this._keyStr.charAt(cN)+this._keyStr.charAt(cL)+this._keyStr.charAt(cJ)+this._keyStr.charAt(cI)}return cF},decode:function(cH){var cF="";var cO,cM,cK;var cN,cL,cJ,cI;var cG=0;cH=cH.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(cG<cH.length){cN=this._keyStr.indexOf(cH.charAt(cG++));cL=this._keyStr.indexOf(cH.charAt(cG++));cJ=this._keyStr.indexOf(cH.charAt(cG++));cI=this._keyStr.indexOf(cH.charAt(cG++));cO=(cN<<2)|(cL>>4);cM=((cL&15)<<4)|(cJ>>2);cK=((cJ&3)<<6)|cI;cF=cF+String.fromCharCode(cO);if(cJ!=64){cF=cF+String.fromCharCode(cM)}if(cI!=64){cF=cF+String.fromCharCode(cK)}}cF=bH._utf8_decode(cF);return cF},_utf8_encode:function(cG){cG=cG.replace(/\r\n/g,"\n");var cF="";for(var cI=0;cI<cG.length;cI++){var cH=cG.charCodeAt(cI);if(cH<128){cF+=String.fromCharCode(cH)}else{if((cH>127)&&(cH<2048)){cF+=String.fromCharCode((cH>>6)|192);cF+=String.fromCharCode((cH&63)|128)}else{cF+=String.fromCharCode((cH>>12)|224);cF+=String.fromCharCode(((cH>>6)&63)|128);cF+=String.fromCharCode((cH&63)|128)}}}return cF},_utf8_decode:function(cF){var cH="";var cJ=0;var cK=0;var cI=0;var cG=0;while(cJ<cF.length){cK=cF.charCodeAt(cJ);if(cK<128){cH+=String.fromCharCode(cK);cJ++}else{if((cK>191)&&(cK<224)){cI=cF.charCodeAt(cJ+1);cH+=String.fromCharCode(((cK&31)<<6)|(cI&63));cJ+=2}else{cI=cF.charCodeAt(cJ+1);cG=cF.charCodeAt(cJ+2);cH+=String.fromCharCode(((cK&15)<<12)|((cI&63)<<6)|(cG&63));cJ+=3}}}return cH}};var a8=function(){return u[aj()(99,111,111,107,105,101)]};var Z=function(){cx();var cF={c:cj()};return ao(JSON.stringify(cF))};var bT=function(){var cF=l();return(cF===bb||cF===null)?bK:cF};var cj=function(){var cF=[];for(var cG in bA.cookies){if(!Object.prototype.hasOwnProperty.call(bA.cookies,cG)){continue}cF.push(cG+"="+bA.cookies[cG])}return cF.join("; ")};var cx=function(){var cF=j();for(var cG in cF){if(!Object.prototype.hasOwnProperty.call(cF,cG)){continue}bA.cookies[cG]=cF[cG]}};var Y=function(cF){cu(cg,cF,a7());bA.source.marker=cF};var U=function(){return h(cg)};var e=function(){aW(bF.roistat.page.params,function(cG,cF){bA.pageParams[cG]=cF})};var j=function(){var cI=a8();var cJ=cI.split("; ");
var cF={};for(var cH=0;cH<cJ.length;cH++){var cM=cJ[cH];if(cM===""){continue}var cG=cM.split("=");if(cG.length<2){continue}var cL=cG[0].trim();var cK=cG[1].trim();cF[cL]=cK}return cF};var f=function(){return aj()(104,97,115,104)};var ap=function(cF){return cF.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bv={isAvailable:function(){var cF=false;if(!bF.sessionStorage||!bF.sessionStorage.setItem||!bF.sessionStorage.getItem||!bF.sessionStorage.removeItem){return cF}try{bF.sessionStorage.setItem("testKey","testValue");cF=bF.sessionStorage.getItem("testKey")==="testValue";bF.sessionStorage.removeItem("testKey")}catch(cG){return false}return cF},remove:function(cF){if(this.isAvailable()){bF.sessionStorage.removeItem(cF)}},setObject:function(cF,cG){if(this.isAvailable()){bF.sessionStorage.setItem(cF,JSON.stringify(cG))}},getObject:function(cG){var cF=null;if(this.isAvailable()){cF=bF.sessionStorage.getItem(cG);cF=JSON.parse(cF)}return cF},set:function(cF,cG){if(this.isAvailable()){bF.sessionStorage.setItem(cF,cG)}},get:function(cG){var cF=null;if(this.isAvailable()){cF=bF.sessionStorage.getItem(cG)}return cF}};var bC={isAvailable:function(){var cF=false;if(!bF.localStorage||!bF.localStorage.setItem||!bF.localStorage.getItem||!bF.localStorage.removeItem){return cF}try{bF.localStorage.setItem("testKey","testValue");cF=bF.localStorage.getItem("testKey")==="testValue";bF.localStorage.removeItem("testKey")}catch(cG){return false}return cF},remove:function(cG){if(this.isAvailable()){bF.localStorage.removeItem(cG)}else{var cF=new Date(1970,1,1);cu(cG,"",{expires:cF.toUTCString()})}},setObject:function(cF,cG){if(this.isAvailable()){localStorage.setItem(cF,JSON.stringify(cG))}},getObject:function(cG){var cF=null;if(this.isAvailable()){cF=localStorage.getItem(cG);cF=cq(cF)}return cF},set:function(cF,cG){if(this.isAvailable()){localStorage.setItem(cF,cG)}else{cu(cF,cG,b8)}},save:function(cG,cH,cF){if(this.isAvailable()){localStorage.setItem(cG,cH)}cu(cG,cH,cF)},get:function(cG){var cF=null;if(this.isAvailable()){cF=localStorage.getItem(cG)}if(cF===null){cF=h(cG)}return cF}};var bs=function(){return !br(u.referrer)?u.referrer:null};var E=function(cF){return typeof cF==="function"};var cE=function(cF){return typeof cF==="object"};var aB=function(cF){return typeof cF==="string"};var K=function(cI,cH){cH=typeof cH!=="undefined"?cH:false;var cJ=function(cM){var cL=null;var cN=new RegExp("[#&?]("+cI+"=[^#&?]+)");if(cN.test(cM)){cL=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var cK=ah(cL);return cL&&cK?cK:cL};var cF=cJ(bQ);if(cH){var cG=u.referrer;if(cF===null&&cG){cF=cJ(cG)}}return cF};var ck=function(cG,cH){var cF=false;if(cG&&cH){cF=cG.split(cH).join("")!==cG}return cF};if(K(bz)==="1"||j()[bz]==="1"){a0=true}var aK=function(){if("https:"===u.location.protocol){return"https:"}else{return"http:"}};var F=function(cG){var cF=u.createElement("img");cF.src=cG;p("sendRequestByUrl: "+cG)};var ax=function(cG){p("sendApiRequestJSONP: init with url "+cG);var cF=u.createElement("script");cF.onload=cF.onreadystatechange=function(){var cI=this.readyState?this.readyState:"unknown";p("sendApiRequestJSONP: script state changed to "+cI)};cF.src=cG;cF.type="text/javascript";cF.async=true;var cH=u.getElementsByTagName("script")[0];cH.parentNode.insertBefore(cF,cH);p("sendApiRequestJSONP: script appended")};var bP=function(){var cG=u.createElement("link"),cF=u.getElementsByTagName("head");cG.setAttribute("rel","stylesheet");cG.setAttribute("href",aK()+"//"+q+"/dist/module.css?"+H);if(cF.length>0){cF[0].appendChild(cG)}};var bI=function(){return bL()||cC()};var bL=function(){return aR()!==null};var cC=function(){return bE()!==null};var ce=function(){var cF=cb();if(cF!==null){cu(by,cF,a7())}};var cb=function(){return aR()||bE()||null};var aR=function(){return K("roistat_visit")};var bE=function(){return bA.visitFromUser};var a=function(cF){if(bA.isSettingsUpdating||!u.hasFocus()){p("Already updating settings or document not in focus, return");return}var cG=A()+"/get-settings?v="+H+"&visit="+cF;p("Request new settings");bA.isSettingsUpdating=true;ax(cG)};var at=function(){return bC.get(aC)>0};var cr=function(){bC.set(aC,1)};var cy=function(){p("Call: Init");p("Counter version: "+H);if(K("roistat_ab_demo")==="1"){p("Roistat initialisation rejected: ab test preview mode");return}bP();aU();bZ();if((!W()||cD())&&!bF.roistatOnlineChatOnly){cf=true;bd()}else{ce();var cF=l();bj();aI();cc();roistat.visit=cF;bA.source.marker=U();var cG=at();if(!cG){a(cF)}else{b2()}}cp()};var y=function(cH){var cF=new Date();var cO=new Date().toISOString();var cL=cF.getUTCDay()===0?7:cF.getDay();var cM=cL===6||cL===7;var cK=new Date(cH.weekdaysTime.from).toISOString();var cG=new Date(cH.weekdaysTime.to).toISOString();var cP=new Date(cH.weekendsTime.from).toISOString();var cI=new Date(cH.weekendsTime.to).toISOString();var cN=false;for(var cJ=0;cJ<cH.days.length;cJ++){if(cL===cH.days[cJ]){cN=true}}if(!cN){return false
}if(cM){return cO>=cP&&cO<=cI}return cO>=cK&&cO<=cG};var aU=function(){p("Call: initMarker");a5=bJ();p("Call: inited marker: "+a5)};var bZ=function(){p("Call: initReferrer");i=bs();p("Call: end initReferrer: "+i)};var br=function(cH){if(!cH){return true}var cF=aJ(cH);var cG=aJ(u.domain);if(cF===cG){return true}var cI=bo();if(cI===null){return false}if(ck(cF,cI)&&ck(cG,cI)){return true}return false};var bo=function(){if(typeof b8.domain==="string"&&b8.domain!==""){return aJ(b8.domain)}return null};var aJ=function(cF){var cG=cF.split("http://").join("").split("https://").join("").split("www.").join("");return cG.split("/")[0]};var bJ=function(){var cK=h(g)>0;var cM=null;var cH=function(cP){return cP.split("_").join(":u:")};var cO=function(cQ){var cP=false;n(aA,function(cR){if(cQ.indexOf(cR)>-1){cP=true}});return cP};var cN=function(){var cP=false;var cQ;cQ=K(v,cK);if(cQ!==null){cM=cQ;cP=true}cQ=K(bV,cK);if(cQ!==null){cM=cQ;cP=true}return cP};var cI=function(){var cP=false;var cQ=U();if(cQ){cM=cQ;cP=true;bM=false}return cP};var cG=function(){var cP=false;var cR=K("utm_source",cK);if(cR!==null){cP=true;cM=":utm:"+cH(cR);var cT=["utm_medium","utm_campaign","utm_content","utm_term"];var cQ;for(var cS=0;cS<cT.length;cS++){cQ=K(cT[cS],cK);if(cQ!==null){cM=cM+"_"+cH(cQ)}}}return cP};var cJ=function(){var cR,cQ,cP=false;cQ=K("_openstat",cK);if(!cQ){return false}if(cL(cQ)){cR=cQ}else{cR=encodeURI(bH.decode(cQ));if(!cL(cR)){cR=cQ}}if(cR){cR=cH(cR).split(";").join("_");cM=":openstat:"+cR;cP=true}return cP};var cL=function(cP){return cP.match(/^([^;]*(;[^;]*){3})$/)!==null};var cF=function(){var cP=false;var cQ=u.referrer;if(br(cQ)){return cP}var cR=K("from",cK);if(cR!==null&&!ck(cR,"http")){if(!cO(cR)){cP=true;cM=cH(cR)}}return cP};if(cN()){bW("Init marker: init from RS param "+cM);return cM}if(cG()){bW("Init marker: init from UTM "+cM);return cM}if(cJ()){bW("Init marker: init from OpenStat "+cM);return cM}if(cF()){bW("Init marker: init from custom tag "+cM);return cM}bW("Init marker: try init from cookie "+cM);cI();return cM};var l=function(){return bC.get(by)};var L=function(){p("Call: saveReferrer");bC.set(ak,i)};var bu=function(){p("Call: removeReferrer");bC.remove(ak)};var cp=function(){cu(aO,ah(a5),a7())};var cc=function(){p("Call: refreshPromoCode");if(bF.roistatOnlineChatOnly){p("PromoCode: Shut down because only online chat need to be inited");return}var cF=function(){return h(by)};ac(cF());if(!bF.onload){bF.onload=function(){ac(cF())}}setTimeout(function(){ac(cF())},50);setTimeout(function(){ac(cF())},200);setTimeout(function(){ac(cF())},2000);setTimeout(function(){ac(cF())},10000)};bF.roistatPromoCodeRefresh=cc;var cs=function(){var cF=[];var cG=u.getElementsByClassName(R);if(cG&&cG.length){cF=cG}return cF};var ac=function(cF){var cI=cs();p("setPromoCode: "+cF+" in "+cI.length+" elements");for(var cH=0;cH<cI.length;cH++){var cG=cI[cH];cG.innerHTML=cF?cF:""}};var bg=function(){var cH=bJ(),cG=h(aO),cJ=cH!==null,cI=true;var cL=ah(ah(cH)).toLowerCase().split("+").join(" "),cK=ah(ah(cG)).toLowerCase().split("+").join(" ");if(cH&&cG){cI=cL!==cK}var cF=cJ&&cI;av="Call: needOverrideByMarker (result "+(cF?"true":"false")+") with current "+cH+":"+cL+" and old "+cG+":"+cK;bW(av);return cF};var an=function(){var cG=function(cO){return/[\u0400-\u04FF]/.test(cO)};var cN=false,cK=i,cF=bC.get(ak),cM=bF.location.host;if(!cK||!cM){bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), skip because one of params is empty");return cN}cM=aJ(cM);cK=ah(cK);cF=ah(cF);var cI=aJ(cK);if(ck(cK,"xn--")&&cG(cM)){bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), skip because of bugs with punycode in FF");return cN}if(!cI){bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), skip because current referrer is null");return cN}if(!cF){cN=!ck(cI,cM);bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), compare current referrer and host");return cN}if(ck(cK,cF)){bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), skip because the same referrer");return cN}var cL=cM.split(".").length>2&&cI.split(".").length>2;var cJ=bF.roistatCookieDomain!==bb&&bF.roistatCookieDomain!==cM;var cH=cI.split(".").slice(1).join(".")===cM.split(".").slice(1).join(".");if(cL&&cJ&&cH){bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+"), skip because sub domains of same domain");return cN}cN=!(ck(cI,cM)||(ck(cM,cI)));bW("Call: needOverrideByReferrer (result "+(cN?"true":"false")+") referrerHost: "+cI+", currentHost: "+cM);return cN};var bk=function(){return K("utm_nooverride")==="1"};var cD=function(){return !bI()&&!bk()&&(bg()||an())};var bl=function(cG,cF){return(cG&&cF&&cG!=cF)};var aM=function(cH){var cF=["cookieExpire"];var cJ=cH.leadHunterEnabled;if(Number(bC.get(bc))!==Number(cH.leadHunterEnabled)){bC.set(bc,Number(cH.leadHunterEnabled))}if(cJ){var cI={expires:B,path:"/"};if(b8.domain){cI.domain=b8.domain}cu(M,1,cI)}for(var cG in cH){if(!Object.prototype.hasOwnProperty.call(cH,cG)){continue
}if(!cJ&&cG.indexOf("leadHunter")>=0&&cG.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ab(cF,cG)){bC.set("roistat_"+cG,cH[cG])}}};var b9=function(cF){if(!cF){return}roistat.multiwidget={isEnabled:cF.is_enabled,vk:{isEnabled:cF.vk.is_enabled,link:cF.vk.link},fb:{isEnabled:cF.fb.is_enabled,link:cF.fb.link},telegram:{isEnabled:cF.telegram.is_enabled,link:cF.telegram.link}};if(Number(bC.get(aL))!==Number(cF.is_enabled)){bC.set(aL,Number(cF.is_enabled))}if(Number(bC.get(bq))!==Number(cF.vk.is_enabled)){bC.set(bq,Number(cF.vk.is_enabled))}if(bC.get(b3)!==cF.vk.link){bC.set(b3,cF.vk.link)}if(Number(bC.get(C))!==Number(cF.fb.is_enabled)){bC.set(C,Number(cF.fb.is_enabled))}if(bC.get(cm)!==cF.fb.link){bC.set(cm,cF.fb.link)}if(Number(bC.get(bS))!==cF.telegram.is_enabled){bC.set(bS,Number(cF.telegram.is_enabled))}if(bC.get(aZ)!==cF.telegram.link){bC.set(aZ,cF.telegram.link)}};var cz=function(cH,cJ,cG,cI,cF,cK){aM(cH);roistat.callTracking.enabled=cJ.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cG.email;roistat.emailtracking.trackingEmail=cG.trackingEmail;roistat.emailtracking.emails=cG.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=cI;b9(cF);roistat.onlineChat.isEnabled=cK.is_enabled;if(Number(bC.get(b1))!==Number(cK.is_enabled)){bC.set(b1,Number(cK.is_enabled))}};bF.roistatModuleSetVisitCookie=function(cK,cR,cI,cG,cQ,cF,cS,cM){p("Call: roistatModuleSetVisitCookie("+cK+")");var cN;if(typeof cI.cookieExpire!=="number"){cN=a7().expires}else{cN=cI.cookieExpire}var cL=h(by);var cP={expires:cN,path:"/"};if(b8.domain){cP.domain=b8.domain}cu(by,cK,cP);if(!(h(by)>0)){bC.save(by,cK,cP)}if(!bC.get(ay)){var cH={expires:10*365*24*60*60,path:"/"};if(b8.domain){cH.domain=b8.domain}bC.save(ay,cK,cH)}var cO=cI.abTests;if((typeof cO!=="undefined")&&bC.isAvailable()){bC.setObject("abTesting",cO)}applyTests();var cJ=cI.isNeedToListenRequests;if((typeof cJ!=="undefined")&&bC.isAvailable()){bC.set(V,cJ)}ac(cK);if(cR){Y(cR);cu(aO,cR,cP)}p("Call: pre renderPromoCode");aI();cc();if(bl(cL,cK)){p("roistatModuleSetVisitCookie: visit changed from "+cL+" to "+cK)}if(bF.roistatCallback!==bb){bF.roistatCallback(cK,cR)}if(!cS){cS={}}cz(cI,cG,cQ,cF,cS.multiwidget_settings,cM);roistat.callTracking.phone=cG.phone;roistat.callTracking.sessionTime=cG.sessionTime;roistat.callTracking.replacementClasses=cG.replacementClasses;roistat.callTracking.phoneScriptsJson=cG.scripts;roistat.visit=cK;cn();cr();b2()};bF.roistatUpdateSettings=function(cF){p("Set settings.");bA.isSettingsUpdating=false;cz(cF.js_settings,cF.calltracking,cF.emailtracking,cF.proxy_forms,cF.multiwidget.multiwidget_settings,cF.online_chat);cr();b2()};var W=function(){var cF;if(bF.roistatIsInitVisit===true){cF=false}else{cF=h(by)>0}bW("Call: alreadyVisited (return "+(cF?"true":"false")+")");return cF};var c=function(cF){return encodeURIComponent?encodeURIComponent(cF):encodeURI(cF)};var aE=function(){return i?c(i):""};var A=function(){return aK()+"//"+q+"/api/site/"+Q+"/"+aF()};var bN=function(){var cF={expires:1,path:"/"};if(b8.domain){cF.domain=b8.domain}cu(a6,"",cF)};var bd=function(){p("Call: setVisitIdCookie");var cG=function(){var cO=aF(),cL=aE(),cI=bF.roistatIsInitVisit===true?l():0,cN=h(a6),cJ=bC.get(ay);cN=cN?cN:"";cJ=cJ?cJ:"";a5=a5&&(!an()||bM)?ah(ah(a5)):"";var cM=encodeURIComponent(bQ);p("Calltracking: enabled="+bp.callTrackingEnabled+",manual="+bp.callTrackingManual);var cK=JSON.stringify(bF.roistat.page.params);return A()+"/addVisit?v="+H+"&marker="+encodeURIComponent(a5)+"&visit="+cI+"&first_visit="+cJ+"&phone_prefix="+bX+"&phone_prefix_bind="+cB+"&phone_scripts_bind="+D+"&referrer="+cL+"&page="+cM+"&ab="+c(cN)+"&"+f()+"="+Z()+(cK==="{}"?"":"&page_params="+encodeURIComponent(cK))+((!bp.callTrackingEnabled||bp.callTrackingManual)?"&call_tracking_disabled=1":"")+(G.length>0?"&log="+encodeURIComponent(JSON.stringify(G)):"")};var cF=function(cI){setTimeout(function(){p("Call: setVisitIdCookie script creation after timeout");var cJ=u.createElement("script");cJ.onload=cJ.onreadystatechange=function(){var cL=this.readyState?this.readyState:"unknown";p("Call: setVisitIdCookie script state changed to "+cL)};cJ.src=cI;cJ.type="text/javascript";cJ.async=true;cJ.id=J;var cK=u.getElementsByTagName("script")[0];cK.parentNode.insertBefore(cJ,cK);p("Call: setVisitIdCookie appended "+((u.getElementById(J))?"true":"false"));p("Call: sendJSONPRequest to URL "+cI);bN()},bp.jsonpRequestTimeout)};if(a5){Y(a5)}af();var cH=cG();cF(cH);i?L():bu()};var bj=function(){p("Call: sendAbTests");var cG=function(){var cK=aF(),cJ=h(by);return aK()+"//"+q+"/site-api/"+al+"/"+cK+"/visit/"+cJ+"/addAbVariant"};var cH=h(a6);if(!cH){return}var cI=cG();cI=cI+"?ab="+c(cH);var cF=u.createElement("img");cF.src=cI;bN()};var au={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)
},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(au.Android()||au.BlackBerry()||au.iOS()||au.Opera()||au.Windows())}};var aD={isIE:function(cH,cJ){var cK="IE",cG=u.createElement("B"),cF=u.documentElement,cI;if(cH){cK+=" "+cH;if(cJ){cK=cJ+" "+cK}}cG.innerHTML="<!--[if "+cK+']><b id="iecctest"></b><![endif]-->';cF.appendChild(cG);cI=!!u.getElementById("iecctest");cF.removeChild(cG);return cI}};var bG=function(){return new Date().getTime()};var O=function(){var cF="";bF.onerror=function(cL,cK,cH,cJ,cI){var cG=!cJ?"":", column: "+cJ;cG+=!cI?"":", error: "+cI;cF=cF+", Error: "+cL+", url: "+cK+", line: "+cH+cG};setTimeout(function(){var cN=false,cO="";var cJ=cs();for(var cM=0;cM<cJ.length;cM++){var cI=cJ[cM];if(cI!==null&&!cI.innerHTML){cN=true;cO="Promo HTML: "+cI.innerHTML}}if(!(h(by)>0)){cN=true;cO=cO+"; roistat_visit = "+h(by)}if(cN){var cH=u.getElementById(J);var cG=cH?1:0;var cK=bF.navigator.userAgent;cO=encodeURIComponent(cO);var cL=u.createElement("img");cL.src=aK()+"//"+q+"/site-api/"+al+"/"+aF()+"/debug?message="+cO+"&agent="+cK+"&"+f()+"="+Z()+"&jserror="+cF+"&scriptResponse="+cG+"&version="+H+"&debug="+aQ}},20000)};var a9=function(){var cH=u.getElementsByTagName("body");var cI=u.documentElement;var cG=0,cJ=0;if(cH.length){var cF=cH[0];cG=bF.innerWidth||cI.clientWidth||cF.clientWidth;cJ=bF.innerHeight||cI.clientHeight||cF.clientHeight}else{cG=bF.innerWidth||cI.clientWidth;cJ=bF.innerHeight||cI.clientHeight}return{width:cG,height:cJ}};var aI=function(){var cK=u.getElementsByClassName("roistat-promo-wrap");if(cK.length){p("PromoCode: old promo code length - exit");return}if(bF.roistatOnlineChatOnly){p("PromoCode: Shut down because only online chat need to be inited");return}var cI=function(){var cR=u.createElement("div");cR.innerHTML=roistatPromoCode;var cP=u.getElementsByTagName("body");if(cP.length){cP[0].appendChild(cR)}p("PromoCode: appended to body "+roistatPromoCode.length);var cQ=u.getElementsByClassName("roistat-promo-wrap")[0];if(!cQ){p("PromoCode: roistat-promo-wrap not found, skip");return}var cO=cQ.style;var cM,cN,cL;setInterval(function(){cM=a9();cN=cQ.offsetWidth;cL=cQ.offsetHeight*2;switch(roistatPosition){case"top_left":cO.left=0;cO.top=0;break;case"top":cO.left=((cM.width-cN)/2)+"px";cO.top=0;break;case"top_right":cO.right=0;cO.top=0;break;case"left":cO.left=0;cO.top=((cM.height-cL)/2)+"px";break;case"right":cO.right=0;cO.top=((cM.height-cL)/2)+"px";break;case"bottom_left":cO.left=0;cO.bottom=0;break;case"bottom":cO.left=((cM.width-cN)/2)+"px";cO.bottom=0;break;case"bottom_right":cO.right=0;cO.bottom=0;break;default:cO.left=0;cO.top=0}},500)};var cF=bC.getObject("promo_code_options");if(cF){bF.roistatPromoCode=cF.template;bF.roistatPosition=cF.position;cI()}else{var cJ=u.getElementsByTagName("head")[0]||u.documentElement;var cH=u.createElement("script");cH.src=aK()+"//"+q+"/site-api/"+al+"/"+aF()+"/getPromoCode";cJ.insertBefore(cH,cJ.firstChild);p("PromoCode: loading started");var cG=false;cH.onload=cH.onreadystatechange=function(){if(!cG&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cG=true;cH.onload=cH.onreadystatechange=null;if(cJ&&cH.parentNode){cJ.removeChild(cH)}}if(!cG){return}p("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){p("PromoCode: is disabled");return}cF={template:roistatPromoCode,position:roistatPosition};bC.setObject("promo_code_options",cF);cI()}}};var ab=function(cG,cH){for(var cF=0;cF<cG.length;cF++){if(cG[cF]===cH){return true}}return false};var p=function(cG){var cH=bG()-aX;var cF="["+(cH/1000)+"s] "+cG;aQ=aQ+"; "+cF;if(typeof console!=="undefined"&&console.log&&a0){console.log(cF)}};var bW=function(cF){p(cF);if(!bO){return}G.push(cF)};var am=function am(){var cJ=bF.onpopstate;var cK=bF.history.pushState;var cF=bF.history.replaceState;P(bF,"popstate",function cI(cL){p("[Roistat]: popstate event catch");bw();if(N()&&typeof cJ==="function"){cJ(cL)}});P(bF.history,"pushState",function cH(cM,cN,cL){p("[Roistat]: pushState event catch");bw();if(N()&&typeof cK==="function"){cK.apply(this,[cM,cN,cL])}});P(bF.history,"replaceState",function cG(cM,cN,cL){p("[Roistat]: replaceState event catch");bw();if(N()&&typeof cF==="function"){cF.apply(this,[cM,cN,cL])}})};(function bh(){am();if(bF.onRoistatModuleLoaded!==bb&&typeof bF.onRoistatModuleLoaded==="function"){bF.onRoistatModuleLoaded()}})();var be=function(cG){var cL=function(cS,cQ){var cP;if(ck(cQ,"*")){var cR=new RegExp(cQ.split("*").join(".*"));cP=cR.test(cS)}else{cP=cS===cQ}p("LeadHunter: compare current: "+cS+", setting: "+cQ+" with result = "+(cP?1:0));return cP};var cF=bF.location.href,cI=false,cH=false,cN="",cJ=0,cM;cM=cG?cG.split(","):[];if(!cF||cM.length===0){cI=true}else{cN=ap(cF);var cO;for(var cK=0;cK<cM.length;cK++){cO=cM[cK].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(cO)){if(cL(cN,cO.split(/^!/).join(""))){cH=true;break}}else{cJ++;if(cL(cN,cO)){cI=true;
break}}}}if(cH){p('LeadHunter: current page "'+cN+'" is disabled by list');return false}if(!cI&&cJ>0){p('LeadHunter: current page "'+cN+'" is not listed');return false}p('LeadHunter: current page "'+cF+'", cleaned: "'+cN+'" is not disabled in '+cM.length+" list of pages");return true};cy();(function aH(){var cY="roistat-leadhunter-form-template",c2="roistat-leadhunter-pulsator-template",cX="roistat-leadhunter-pulsator-settings",cL="roistat-online-chat-pulsator-template",cO="roistat-online-chat-iframe-template",cQ="roistat-multiwidget-pulsator-template",cM="roistat-multiwidget-pulsator-settings";var c4="empty",cK=false,cG=true,cV=false;var c0;var c5=function(c8,c7,c6){if(c8.addEventListener){c8.addEventListener(c7,c6,false)}else{if(c8.attachEvent){c8.attachEvent("on"+c7,c6)}else{p("Handler could not be attached")}}};var c1={leadHunter:function(){var eW="roistat-lh-form",dw="roistat-lh-form",eZ="roistat-lh-head-text",dK="roistat-lh-head",ds="roistat-lh-thank-you",eb="roistat-lh-thank-you",dc="roistat-lh-close",dd="roistat-lh-submit",dT="roistat-lh-hidden",eA="roistat-lh-wrap",dy="roistat-lh-popup-wrapper",ea="roistat-lh-popup",eY="roistat-lh-agreement",d6="roistat-lh-agreement roistat-lh-mobile",fd="roistat-lh-agreement-input",eM="roistat-lh-agreement-link",c6="roistat-lh-agreement-doc",eS="roistat-lh-alert-row",ej="roistat-lh-agreement",d5="roistat-lh-popup-iframe",el="roistat_leadHunterUrl",eO="roistat_leadHunterAppearanceUrl",dX="roistat_leadHunterTargetPagesList",dr="roistat_leadHunterCaught",es="roistat_leadHunterMinTime",dO="roistat_leadHunterAutoShowTime",ep="roistat_leadHunterPulsatorEnabled",dI="roistat_leadHunterScriptsCaught",fe="roistat_leadHunterScriptsShownCount",d3="roistat-lh-load-done",dx="roistat-lh-close-modal",eC="roistat-lh-script-settings",eB="roistat-lh-setting-size",eT="roistat-lh-before-submit",em="roistat-lh-before-submit-done",e1="roistat-lh-after-submit",eF="roistat-lh-event-data",eG="roistat-lh-translate-form",eP="ru",c9="en",fb={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dq=0.3,dC=0.001,dt=false,dF=0,dA=0,dG=0,e3=0,dE=0,dU=false,dh=false,ef="",dD,eR,ed,ek,ez,dJ,fc,e7,eN,fa,dl,e4,ew,ee,d4,dp,da,dS,dH,dP,eK,eU,dM,eX,e2,dW;var e6={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var e0=function(fi){var fh=encodeURIComponent?encodeURIComponent:encodeURI;return fh(fi)};var eE=function(){if(!bF.roistat.leadHunter.isEnabled){return false}if(bF.roistatLeadHunterInited){return false}bF.roistatLeadHunterInited=true;if(bC.get(bc)<1){p("LeadHunter: disabled");return false}return true};var dR=function(){da=bC.get(el);if(!da){p("LeadHunter: not active cause of empty url");return false}dS=bC.get(eO);e3=bC.get(es);dE=bF.roistat.leadHunter.form.autoShowTime===null?bC.get(dO):bF.roistat.leadHunter.form.autoShowTime;cK=bC.get(ep)==1;c8();return true};var dZ=function(){return bC.get(dr)>0};var c8=function(){if(!(h(M)>0)){p("LeadHunter: not active, expired for this visit");dU=true}};var di=function(fh){dP=eK.src;var fi={version:H,additionalNotifyEmail:bF.roistat.leadHunter.additionalNotifyEmail,projectKey:aF(),language:ef,visitId:bT(),moduleTargetOrigin:bF.location.origin,referrer:bF.location.href,windowWidth:bF.innerWidth||0,iframeWrapperWidth:ek.offsetWidth||0,sendRequestUrl:bC.get(el),message:d3};eK.contentWindow.postMessage(fi,dP);er();if(fh){p("Beta Test on, iframe fired, rise up iframe show count state");db()}};var d2=function(){dh=true;dg("click");di();ey()};var df=function(){var fh=bF.location.hash;if(!fh){return}if(ck(fh,"roistat-lead-hunter")){d2()}};var d0=function dn(){p("LeadHunter: binding timeout");if(dU){p("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dt){p("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dE>0){var fh=(dF-bG())+dE*1000;p("LeadHunter: binding timeout with delay "+fh+" ms");clearTimeout(e6.timeoutId);e6.timeoutId=setTimeout(function(){p("LeadHunter: form auto activate with autoTime = "+dE);if(!dt){p("LeadHunter: show by timeout");dh=true;dg("auto");di(true);ey()}},fh)}else{p("LeadHunter: auto show time is not positive, feature disabled")}};var eQ=function(){eN.onclick=ez.onclick=eh;fa.onclick=dV;if(e4){c5(e4,"click",d7)}if(ew){c5(ew,"change",ff)}var fi=u.getElementsByClassName("roistat-lh-input");for(var fl=0;fl<fi.length;fl++){c5(fi[fl],"keyup",function(fn){fn=fn||event;var fm=(fn.keyCode?fn.keyCode:fn.which);if(fm==13){dV()}})}var fj=bF.onresize;bF.onresize=function(fm){if(fj){fj(fm)}eV(fm)};if(!dU){var fh=u.onmouseout;u.onmouseout=function(fm){if(fh){fh(fm)}ev(fm)}}if(cK&&!cU()){dD.onmouseover=function(){T(dD,"roistat-lh-pulsator-hover")};dD.onmouseout=function(){bx(dD,"roistat-lh-pulsator-hover")};dD.onclick=function(){d2()}}var fk=bF.onhashchange;bF.onhashchange=function(){if(fk){fk.apply(this,arguments)}df()}};var e9=function(){if(cK&&!cU()){dD.onmouseover=function(){T(dD,"roistat-lh-pulsator-hover")
};dD.onmouseout=function(){bx(dD,"roistat-lh-pulsator-hover")};dD.onclick=function(){d2()}}ez.onclick=eh;eK=u.getElementById(d5);c5(eK,"load",function(){di();e5()});var fi=bF.onresize;bF.onresize=function(fk){if(fi){fi(fk)}eV(fk)};if(!dU){var fh=u.onmouseout;u.onmouseout=function(fk){if(fh){fh(fk)}if(!N()){p("ShowLimit: Beta Test off, check cursor usually");ev(fk)}else{p("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!ex()&&!dB()){p("ShowLimit: Check cursor allowed");ev(fk,true)}}}}var fj=bF.onhashchange;bF.onhashchange=function(){if(fj){fj.apply(this,arguments)}df()}};var eg=function(fi){var fh=u.getElementsByClassName(fi);if(fh.length>0){return fh[0]}else{return null}};var ec=function(){var fk=eg("roistat-lh-title");if(fk&&roistat.leadHunter.form.title){fk.innerHTML=roistat.leadHunter.form.title}var fi=eg("roistat-lh-sub-title");if(fi&&roistat.leadHunter.form.subTitle){fi.innerHTML=roistat.leadHunter.form.subTitle}var fj=eg("roistat-lh-thank-you");if(fj&&roistat.leadHunter.form.thankYouText){fj.innerHTML=roistat.leadHunter.form.thankYouText}var fm=eg("roistat-lh-submit");if(fm&&roistat.leadHunter.form.buttonText){fm.value=roistat.leadHunter.form.buttonText}var fl=eg("roistat-lh-text-label-name");if(fl&&roistat.leadHunter.form.nameLabel){fl.innerHTML=roistat.leadHunter.form.nameLabel}var fh=eg("roistat-lh-text-label-contact");if(fh&&roistat.leadHunter.form.contactLabel){fh.innerHTML=roistat.leadHunter.form.contactLabel}};var dz=function(fi,fm,fl){var fh;if(!fi){p("LeadHunter: deactivating, empty form")}else{p("LeadHunter: rendering hidden form")}ez=u.createElement("div");ek=u.createElement("div");ek.innerHTML=fi;ez.className=dT;ek.className=dT;if(fm&&cK&&fl&&!cU()){var fj=typeof fl.position==="string"&&fl.position!==""?fl.position:"bottomRight";fh=u.createElement("div");fh.innerHTML=fm;dD=fh.childNodes.item(0);eR=dD.childNodes.item(1);ed=dD.childNodes.item(2).childNodes.item(0);eR.setAttribute("style","background: "+fl.button.background+";");ed.setAttribute("style","fill: "+fl.button.color+";");dD.setAttribute("style","bottom: "+fb[fj].bottom+";right:"+fb[fj].right+";");e6.pulsator.previousClass=dD.className;dD.className=dT;u.body.appendChild(dD)}u.body.appendChild(ez);u.body.appendChild(ek);dJ=u.getElementById(dK);fc=u.getElementById(dw);e7=u.getElementById(eb);eN=u.getElementById(dc);fa=u.getElementById(dd);dl=u.getElementById(eY);ew=u.getElementById(fd);e4=u.getElementById(eM);ee=u.getElementById(c6);d4=u.getElementById(eS);dp=u.getElementById(ej);var fk=eg(dy);dH=fk&&fk.getAttribute("data-is-iframe");if(dH){e9()}else{ec();eQ();df();e5()}};var e8=function(fj){var fi=fj.button&&fj.button.background&&fj.button.color;if(typeof dD==="undefined"||!fi){return}bC.setObject(cX,dW);var fh=typeof fj.position==="string"&&fj.position!==""?fj.position:"bottomRight";eR.setAttribute("style","background: "+fj.button.background+";");ed.setAttribute("style","fill: "+fj.button.color+";");dD.setAttribute("style","bottom: "+fb[fh].bottom+";right:"+fb[fh].right+";")};var dm=function(){var fh=bC.get(cY),fj=bC.get(c2),fi=bC.getObject(cX);dz(bH.decode(fh),bH.decode(fj),fi)};var dY=function(){var fi=ek.clientWidth,fh=ek.clientHeight;ek.setAttribute("style",ek.getAttribute("style")+" width: "+fi+"px; height: "+fh+"px;");if(fc!==null){fc.className=dT}if(dJ!==null){dJ.className=dT}if(dl!==null){dl.className=dT}if(e7!==null){e7.setAttribute("style","width: "+fi+"px; height: "+fh+"px; display: table-cell;");e7.className=ds}setTimeout(function(){p("LeadHunter: close form after timeout");eh()},7000)};var ey=function(){var fi=Math.round((eL()-ek.clientHeight)/2);var fh=Math.round((fg()-ek.clientWidth)/2);if(N()){console.log("2772!!From func moveModalCenter | top",fi);console.log("2773!!From func moveModalCenter | left",fh)}ek.setAttribute("style","left: "+fh+"px; top: "+Math.max(0,fi)+"px;")};var dg=function(fi){if(bF.roistat.leadHunter.onBeforeAppear){p("LeadHunter: process user defined onBeforeAppear");bF.roistat.leadHunter.onBeforeAppear(fi);if(dH){er()}}ek.setAttribute("style","left:20px;top:-20px;opacity:0");ez.className=eA;ek.className=ea;if(fc!==null){fc.className=eW}if(dJ!==null){dJ.className=eZ}if(dl!==null){dl.className=d6}if(e7!==null){e7.setAttribute("style","");e7.className=dT}ez.setAttribute("style","opacity:0;");dt=true;setTimeout(function(){ez.setAttribute("style","opacity:.5;")},10);var fj=h(by),fh=dS+"?visit_id="+fj;F(fh);if(bF.roistat.leadHunter.onAfterAppear){p("LeadHunter: process user defined onAfterAppear");bF.roistat.leadHunter.onAfterAppear(fj,ez,ek,fc);if(dH){er()}}};var eD=function ei(){dF=bG();var fh=false;var fi=bF.onload;bF.onload=function(){if(fi){fi()}if(!fh){fh=true;p("LeadHunter: form initialized in window.onload");dm()}};setTimeout(function(){if(!fh){fh=true;p("LeadHunter: form initialized after timeout");dm()}},5000)};var e5=function d1(){p("LeadHunter: tuning appearance for page");if(!be(bC.get(dX))||(bC.get(aw)&&!bC.get(I))){p("LeadHunter: disabled on page");e6.leave.isShowEnabled=false;
clearTimeout(e6.timeoutId);if(dD){cG=false;dD.className=dT}}else{p("LeadHunter: enabled on page");if(!dZ()&&!N()){p("ShowLimit: Beta Test off, bindShowOnTimeout usually");e6.leave.isShowEnabled=true;d0()}if(N()){p("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!ex()&&!dB()){p("ShowLimit: bindShowOnTimeout allowed");e6.leave.isShowEnabled=true;d0()}}if(dD){cG=false;dD.className=e6.pulsator.previousClass}}};var dL=function eu(){p("LeadHunter: processing single page application state change");dF=bG();e5()};var eJ=function d8(){ad(dL);P(bF,"resize",function(){var fi=600,fk=350,fl=bF.innerWidth,fj={};if(fl<fi&&fl>fk){fj={isMobileMarkup:true,isMobileMarkupXs:false};eK.contentWindow.postMessage({sizeSettings:fj,message:eB},dP);return}if(fl<fk){fj={isMobileMarkup:false,isMobileMarkupXs:true};eK.contentWindow.postMessage({sizeSettings:fj,message:eB},dP);return}fj={isMobileMarkup:false,isMobileMarkupXs:false};eK.contentWindow.postMessage({sizeSettings:fj,message:eB},dP)});P(bF,"message",function fh(fl){var fk=typeof fl.data==="string"?fl.data:fl.data.message;if(fk===eC){eU=fl.data.scriptId;dM=fl.data.showsLimit;var fj=bC.getObject(m)!==null;if(fj){eX=fl.data.leadHunterAutoShowTime;e2=fl.data.leadHunterMinTime;e2=fl.data.leadHunterMinTime;dW=fl.data.leadHunterPulsatorSettings;bC.set(es,e2);bC.set(dO,eX);if(dW){bC.set(ep,Number(dW.isEnabled));e8(dW)}}p("ShowLimit: Get lhScriptId: "+fl.data.leadHunterId+" and lhScriptMaxShownCount: "+fl.data.leadHunterMaxShownCount+" from lh widget");eo()}if(fk===dx){eh()}if(fk===eB){eK.setAttribute("style","width: "+fl.data.width+"px !important; height: "+fl.data.height+"px !important;");eV()}if(fk===eT){var fm=fl.data.caughtLeadData;if(bF.roistat.leadHunter.onBeforeSubmit){p("LeadHunter: process user defined onBeforeSubmit");var fi=bF.roistat.leadHunter.onBeforeSubmit(fm);if(fi){fm=fi}}if(!N()){p("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dj()}else{p("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eq()}eK.contentWindow.postMessage({caughtLead:fm,message:em},dP)}if(fk===e1){if(bF.roistat.leadHunter.onAfterSubmit){p("LeadHunter: process user defined onAfterSubmit");bF.roistat.leadHunter.onAfterSubmit({name:fl.data.name,phone:fl.data.phone})}}})};function er(){var fh={apiData:bF.roistat.leadHunter.form,message:eF};eK.contentWindow.postMessage(fh,dP)}function eo(){if(!eE()){return}var fh=bC.getObject(m)!==null;if(fh){dk()}if(!dR()){return}p("LeadHunter: activated");eD();eJ()}function eL(){return(bF.innerHeight?bF.innerHeight:u.documentElement.clientHeight==0?u.body.clientHeight:u.documentElement.clientHeight)}function fg(){return(bF.innerWidth?bF.innerWidth:u.documentElement.clientWidth==0?u.body.clientWidth:u.documentElement.clientWidth)}function ev(fk,fh){fk=fk||event;dG=fk.clientY;var fi=dG/eL(),fm=dA>0&&dA>fi,fj=fi<dC,fl=(bG()-dF)>e3*1000;if(fm&&fj&&!dt&&fl&&e6.leave.isShowEnabled&&!dZ()){p("LeadHunter: show modal with because move up ("+dA+" -> "+fi+") and in modal zone and show on leave enabled");dg("exit");di(fh);d9(fk)}if(fi<dq){dA=fi}}function eV(fh){if(dh){ey()}else{fh=fh||event;d9(fh)}}function d9(fm){if(N()){console.trace();console.log("!!event",fm);var fi=ek.offsetWidth;var fj=fg();console.log("!!modalWidth",fi);console.log("!!windowWidth",fj);var fh=fm.clientX-Math.round(fi/2)||ek.offsetLeft;console.log("From func moveModal | e.clientX - Math.round(modalWidth / 2)",fm.clientX-Math.round(fi/2));console.log("--From func moveModal | e.clientX",fm.clientX);console.log("--From func moveModal | Math.round(modalWidth / 2)",Math.round(fi/2));console.log("From func moveModal | popupElement.offsetLeft",ek.offsetLeft);console.log("From func moveModal | [x] 1 case",fh);fh=Math.max(20,Math.min(fh,fj-fi-20));console.log("!!getWindowWidth()",fj);console.log("From func moveModal | [x] 2 case",fh);var fn=fh+fi>fj-40;console.log("From func moveModal | isPopupElementCrossViewPort",fn);if(fn){console.log("From func moveModal | in if (isPopupElementCrossViewPort)");var fk=(fh+fi-20)-(fj-40);fh=fh-fk;console.log("From func moveModal | widthBehindViewPort",fk);console.log("From func moveModal | [x] third case",fh)}var fl=fj-40>fi?"":"width: "+(fi-40)+"px;";console.log("From func moveModal | popupWidth",fl);console.log("--From func moveModal | 40 > popupElement.offsetWidth",40>fi);console.log("--From func moveModal | popupElement.offsetWidth - 40",fi-40);ek.setAttribute("style","left: "+fh+"px; top: 0px; "+fl);return}var fh=fm.clientX-Math.round(ek.clientWidth/2)||ek.offsetLeft;fh=Math.max(20,Math.min(fh,fg()-ek.offsetWidth-20));var fn=fh+ek.offsetWidth>fg()-40;if(fn){var fk=(fh+ek.clientWidth-20)-(fg()-40);fh=fh-fk}var fl=fg()-40>ek.offsetWidth?"":"width:"+(ek.offsetWidth-40)+"px;";ek.setAttribute("style","left:"+fh+"px; top: 0px; "+fl)}function dj(){bF.roistatSetCookie(dr,1,b8)}function eh(){if(!N()){p("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dj()}ez.setAttribute("style","opacity:0");
ek.style.top="-"+ek.offsetHeight*2+"px";setTimeout(function(){ek.className=ez.className=dT},500)}function dV(){var fv=u.getElementById("roistat-lh-phone-input"),fj=u.getElementById("roistat-lh-name-input"),fl,ft;fl=fv===null?"":fv.value;ft=fj===null?"":fj.value;var fq={name:ft,phone:fl,isNeedCallback:null,callbackPhone:null,fields:{}};if(bF.roistat.leadHunter.onBeforeSubmit){p("LeadHunter: process user defined onBeforeSubmit");var fm=bF.roistat.leadHunter.onBeforeSubmit(fq);if(fm){fq=fm}}var fs=fq.phone.length<1;var fu=fq.phone.indexOf("_")===-1;var fo=!fs&&fu;var fr=fq.name.length<1;var fi=!fr||!bF.roistat.leadHunter.form.isNameRequired;if(!fo){fv.setAttribute("style","border: 2px solid #E0571A;");return}if(!fi){fj.setAttribute("style","border: 2px solid #E0571A;");return}var fh=da+"?v="+H+"&lead-hunt-input="+encodeURIComponent(fq.phone)+"&lead-name="+encodeURIComponent(fq.name)+"&visit="+bT();if(fq.isNeedCallback!==null&&fq.isNeedCallback!==bb){fh=fh+"&is_need_callback="+(fq.isNeedCallback>0?1:0)}if(fq.callbackPhone){fh=fh+"&callback_phone="+fq.callbackPhone}if(bF.roistat.leadHunter.additionalNotifyEmail!==null){fh=fh+"&additional_email="+encodeURIComponent(bF.roistat.leadHunter.additionalNotifyEmail)}var fk=0;if(fq.fields&&typeof fq.fields==="object"){for(var fn in fq.fields){if(fq.fields.hasOwnProperty(fn)){++fk}}}if(fk>0){fh=fh+"&fields="+e0(JSON.stringify(fq.fields))}fh=fh+"&t="+bG();var fp=u.createElement("img");fp.src=fh;fv.setAttribute("style","");if(!N()){p("ShowLimit: Beta Test off, caught LH usually");dj()}else{p("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eq()}if(e7===null){eh();dQ()}else{dY()}if(bF.roistat.leadHunter.onAfterSubmit){p("LeadHunter: process user defined onAfterSubmit");bF.roistat.leadHunter.onAfterSubmit({name:ft,phone:fl})}}function d7(fh){if(fh.preventDefault){fh.preventDefault()}else{fh.returnValue=false}ee.style.display==="block"?ee.style.display="none":ee.setAttribute("style","display: block; padding: 0 30px; width:"+ek.clientWidth+"px;");eV()}function ff(){fa.disabled===true?fa.disabled=false:fa.disabled=true;d4.style.display==="block"?d4.style.display="none":d4.style.display="block"}function dQ(){u.onmousemove=null;ez.onresize=null}var dN=function(fn,fq){if(!fn||!fq){p("LeadHunter: skip phone mask render due to empty input or mask");return}p("LeadHunter: render phone mask "+fq+" for input: "+fn.value);if(bF.roistatRenderPhoneMaskMutex){return}bF.roistatRenderPhoneMaskMutex=true;var fk="_",fj="x",fm="",fl=fq.toLowerCase().split(fj).join(fk).split(fm).join(fk);var fi=function(fr){if(fn.setSelectionRange){fn.setSelectionRange(fr,fr)}else{if(fn.createTextRange){var fs=fn.createTextRange();fs.collapse(true);fs.moveEnd("character",fr);fs.moveStart("character",fr);fs.select()}}};var fo=function(fr){if(!fr){return 0}var fs=fr.indexOf(fk);if(fs<0){return fr.length}return fs};var fp=function(fr){fi(fo(fr))};var fh=function(fA){var fB=fl.split("");if(!fA){return fl}var fr=fA.split("");var fC=[],fz,fw,fy,fv,ft,fs,fx;for(var fu=0;fu<fB.length;fu++){fw=fB[fu];if(fu>=fr.length){fC.push(fw);continue}ft=((fu+1)<fB.length)?fB[fu+1]:null;fs=((fu+1)<fr.length)?fr[fu+1]:null;fx=((fu+2)<fr.length)?fr[fu+2]:null;fz=fr[fu];fy=parseInt(fz)>=0;fv=(fw===fk)&&fy;if(!fv){fC.push(fw);continue}if(fs===fk&&ft!==fk&&fx!==ft){fC.push(fw);continue}fC.push(fz)}return fC.join("")};setTimeout(function(){var fr=fh(fn.value);if(fn.value!==fr){fn.value=fr}fp(fr);bF.roistatRenderPhoneMaskMutex=false},1)};var eI=function(fh,fj,fi){bC.set(cY,bH.encode(fh));bC.set(c2,bH.encode(fj));bC.setObject(cX,fi)};var en=function(fh){ef=fh;if(eK===bb){return}c7()};var c7=function(){var fh={language:ef,message:eG};eK.contentWindow.postMessage(fh,dP)};var eq=function(){p("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fh=du(dI);if(!fh){fh={}}p("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fh[eU]=1;eH(dI,fh)};var db=function(){p("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fi=du(fe);if(!fi){fi={}}var fj=fi.hasOwnProperty(eU);if(!fj){p("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fi[eU]=0}var fh=fi[eU]+1>dM;if(fh){p("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}p("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fi[eU]+=1;eH(fe,fi)};var eH=function(fh,fi){cu(fh,JSON.stringify(fi),b8)};var du=function(fh){var fi=h(fh);if(typeof fi!=="undefined"){return JSON.parse(fi)}return fi};var dB=function(){if(dM===0){p("ShowLimit: show limit off and set to 0");return false}var fh=du(fe),fi=fh?fh[eU]:null,fj=fi+1>dM;p("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fj);return fj};var ex=function(){var fj=du(dI),fh=fj?fj[eU]:null,fi=fh===1;p("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fi);return fi};var dk=function(){bC.set(aw,de());bC.set(cY,bH.encode(et()));
bC.set(dX,dv())};var et=function(){var fh=aK()+"//"+q+"/api/site/1.0/"+aF()+"/leadhunter/script/"+bC.get(aw)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fh+'" frameborder="0"></iframe></div>'};var de=function(){var fh=bC.getObject(m);if(fh===null){return}bC.set(I,"");var fl=Number(bC.get(bc));var fo=Object.keys(fh);var fm=fo.sort()[0];if(!fl){return fm}for(var fk=0;fk<fo.length;fk++){var fp=fh[fo[fk]];var fn=fp.targetPageList;var fj=be(fn.join(","));var fi=fn.length===0;if(fi||fj){if(!fp.timetable.isEnabled||y(fp.timetable)){fm=fo[fk];bC.set(I,fm)}}}return fm};var dv=function(){var fh=bC.get(aw);var fi=JSON.parse(bC.get(m));return fi[fh]?fi[fh].targetPageList.join(","):""};bR(eo);bF.roistatLeadHunterShow=d2;bF.roistatRenderPhoneMask=dN;bF.roistat.leadHunter.localization.translateToRussian=function(){en(eP)};bF.roistat.leadHunter.localization.translateToEnglish=function(){en(c9)}},multiwidget:function(){var dC="roistat-multiwidget-hidden",dI="roistat-multiwidget-pulsator-phone",dG="roistat-multiwidget-pulsator-popup-item-lead-hunter",dl="roistat-multiwidget-pulsator-fill",dK="roistat-multiwidget-pulsator-fill-svg",dv="roistat-multiwidget-pulsator-img-icon",dk="roistat-multiwidget-pulsator-popup-item-chat",c9="roistat-multiwidget-pulsator-popup-item-facebook",dc="roistat-multiwidget-pulsator-popup-item-vk",du="roistat-multiwidget-pulsator-popup-item-telegram",dy="roistat-multiwidget-pulsator-items-popup-holder",de="roistat-multiwidget-pulsator-popup-tail";var dj,dx,dq,dH,c6,db,dJ,ds,dg,c8,dh,da;var dF={topLeft:{bottom:"unset",right:"unset",top:"20px",left:"35px"},topRight:{bottom:"unset",right:"35px",top:"20px",left:"unset"},bottomRight:{bottom:"20px",right:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:"20px",right:"unset",top:"unset",left:"35px"}};var dd={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dp={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function dB(dM){p("Multiwidget: "+dM)}function dt(){dx=dj.getElementsByClassName(dI)[0];dq=dj.getElementsByClassName(dy)[0];dH=dj.getElementsByClassName(de)[0];ds=dq.getElementsByClassName(dG)[0];dg=dq.getElementsByClassName(dk)[0];c8=dq.getElementsByClassName(dc)[0];dh=dq.getElementsByClassName(c9)[0];da=dq.getElementsByClassName(du)[0];c6=dx.getElementsByClassName(dl)[0];db=dx.getElementsByClassName(dK);dJ=dx.getElementsByClassName(dv)[0]}function dm(){dq.classList.toggle(dC)}function dL(){dB("add pulsator events");c5(dx,"click",function(){dm()});c5(ds,"click",function(){dB("opening leadhunter via multiwidget");bF.roistatLeadHunterShow();dm()});c5(dg,"click",function(){dB("opening online chat via multiwidget");bF.roistatOnlineChatShow();dm()});c5(c8,"click",function(){bF.open(bC.get(b3),"_blank")});c5(dh,"click",function(){bF.open(bC.get(cm),"_blank")});c5(da,"click",function(){bF.open(bC.get(aZ),"_blank")})}function dr(){dB("hiding disabled multiwidget options");var dM=Number(bC.get(bc)),dN=Number(bC.get(b1)),dO=Number(bC.get(bq)),dP=Number(bC.get(C)),dQ=Number(bC.get(bS));if(!dM||!cK||!cG){dB("hiding leadhunter option");ds.classList.add(dC)}if(!dN){dB("hiding online chat option");dg.classList.add(dC)}if(!dO){dB("hiding vk-messenger option");c8.classList.add(dC)}if(!dP){dB("hiding fb-messenger option");dh.classList.add(dC)}if(!dQ){dB("hiding telegram-messenger option");da.classList.add(dC)}}function c7(){var dN=bC.getObject(cM);dB("start filling pulsator");if(dN){c6.setAttribute("style","background: "+dN.button_color+";");dJ.setAttribute("style","fill: "+dN.icon_color+";");for(var dM=0;dM<db.length;dM++){db[dM].setAttribute("style","fill: "+dN.button_color+";")}}}function dz(){var dM=bC.getObject(cM);return typeof dM.position==="string"&&dM.position!==""?dM.position:"bottomRight"}function dw(){var dM=dz();dj.setAttribute("style","top: "+dF[dM].top+";right:"+dF[dM].right+";bottom:"+dF[dM].bottom+";left:"+dF[dM].left+";")}function dn(){var dM=dz();var dN=dM==="topLeft"||dM==="bottomLeft"?"margin-right":"margin-left";dx.setAttribute("style",dN+": auto")
}function dA(){var dM=dz();dq.setAttribute("style","top: "+dd[dM].top+";right:"+dd[dM].right+";bottom:"+dd[dM].bottom+";left:"+dd[dM].left+";")}function df(){var dM=dz();dH.setAttribute("style","top: "+dp[dM].top+";right:"+dp[dM].right+";bottom:"+dp[dM].bottom+";left:"+dp[dM].left+";border-top-color:"+dp[dM]["border-top-color"]+";border-right-color:"+dp[dM]["border-right-color"]+";border-bottom-color:"+dp[dM]["border-bottom-color"]+";border-left-color:"+dp[dM]["border-left-color"]+";")}function dD(){dw();dn();dA();df()}function di(){var dN=bH.decode(bC.get(cQ));if(dN){dB("appending multiwidget pulsator");var dM=u.createElement("div");dM.innerHTML=dN;dj=dM.childNodes.item(0);u.body.appendChild(dj);dt();dr();c7();dD();dL()}}function dE(){dB("activated");di()}bR(dE)},onlineChat:function(){var dJ="iframe-module-created",dK="iframe-online-chat-opened",dz="iframe-online-chat-invite-message",dM="roistat-online-chat-init",c7="roistat-online-chat-reload",d7="roistat-online-chat-update-custom-params",d6="roistat_chat_id",dy="roistat_chat_session",c8="roistat_chat_custom_position",ds,dw,df,dF,d9,d2,d0;var c9="roistat-online-chat-popup-iframe",dU="roistat-online-chat-hidden",ea="roistat-online-chat-popup-wrapper",dD="roistat-online-chat-popup-mouse-track",dR="roistat-online-chat-popup-mouse-track-active",dP="roistat-online-chat-pulsator-fill",de="roistat-online-chat-pulsator-img",dA="roistat-online-chat-pulsator-fill-svg",dm=".roistat-multiwidget-pulsator-items-popup",di=".roistat-online-chat-pulsator-phone",dQ=".roistat-online-chat-popup-wrapper";var dS=false,du=false,dv=0,dV=0;var dO=cU()?".roistat-multiwidget-pulsator-holder":".roistat-online-chat-pulsator-phone";var dk;var dY={topLeft:{top:"130px",right:"unset",bottom:"20px",left:"30px"},topRight:{top:"130px",right:"30px",bottom:"20px",left:"unset"},bottomRight:{top:"20px",right:"30px",bottom:"130px",left:"unset"},bottomLeft:{top:"20px",right:"unset",bottom:"130px",left:"30px"}};var dn={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var dh=function(ec){p("onlineChat: "+ec)};var d4=function(){function ec(){return Math.random().toString(36).substr(2,8)}return ec()+ec()+ec()+ec()};var dN=function(){var ec=bC.get(dy);if(!ec){ec=d4();bC.set(dy,ec)}return ec};var dX=function(){var ec={message:dJ,detail:{version:H,projectKey:aF(),visitId:bT(),chatId:h(d6),moduleTargetOrigin:bF.location.origin,referrer:bF.location.href,params:c0,sessionUniqueKey:dN()}};dF.contentWindow.postMessage(ec,dF.src)};var dC=function(){var ec={message:dK,detail:{isOpened:dH()}};dF.contentWindow.postMessage(ec,dF.src)};var dq=function(){var ec={message:c7,detail:{chatId:h(d6)}};dF.contentWindow.postMessage(ec,dF.src)};var dE=function(){var ec={message:d7,detail:{params:c0}};dF.contentWindow.postMessage(ec,dF.src)};var dW=function(){P(bF,"message",function ec(eg){var ef=typeof eg.data==="string"?eg.data:eg.data.message;var ee=typeof eg.data!=="string"?eg.data.detail:{};dh("event: "+ef+" "+JSON.stringify(ee));switch(ef){case dJ:dX();break;case dM:dh("saving chat id = "+ee.chatId);cu(d6,ee.chatId);break;case dz:dh("rendering invite message");dx(ee.message);break}});P(bF,"focus",function ed(){dh("send message for reloading chat...");dq()})};var d8=function(){var ed=bF.roistat.onlineChat.notificationsCustomHolderSelector;var ec=ed!==null;return u.querySelectorAll(ec?ed:dO)[0]};var dx=function(ej){if(dH()){return}var ee="<div class='roistat-online-chat-message'><img src='"+ej.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+ej.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+ej.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var ei=u.createElement("div");ei.innerHTML=ee;var eh=d8();var ek=dc()?"beforeend":"afterbegin";eh.insertAdjacentHTML(ek,ee);var eg=eh.getElementsByClassName("roistat-online-chat-message-close");var ec=eh.getElementsByClassName("roistat-online-chat-message");var ef=eg[dc()?eg.length-1:0];var ed=ec[dc()?eg.length-1:0];setTimeout(function(){ed.remove()},15000);c5(ed,"click",function(el){el.stopPropagation();if(!dH()){dd()}dI()});c5(ef,"click",function(el){el.stopPropagation();ed.remove()})};var dI=function(){var ed=d8();var ec=ed.getElementsByClassName("roistat-online-chat-message");while(ec.length>0){ec[0].remove()}};var dr=function(){dF=u.getElementById(c9);c5(dF,"load",function(){dj()});c5(u,"click",function(ed){var ec=bF.roistat.onlineChat.customTriggerSelector;if(dH()&&(ed.target.closest(dm)===null&&ed.target.closest(dQ)===null&&ed.target.closest(di)===null&&(ec?ed.target.closest(ec)===null:true))){dd()}})};var d3=function(ee){var ed=df.getBoundingClientRect().x;
var ec=df.getBoundingClientRect().y;du=true;dp();dv=ee.pageX-ed;if(dc()){dV=ee.pageY+ec}else{dV=ee.pageY-ec}};var dg=function(){du=false;dL();dt()};var dp=function(){dw.classList.add(dR)};var dL=function(){dw.classList.remove(dR)};var dB=function(ek){if(du){var ec=df.getBoundingClientRect();var ej=ec.width;var ei=400;var ed=50;var en=0;var ef=bF.innerHeight-ei;var el=ek.pageX-dv;var eh=ed;var ee=bF.innerWidth-ed-ej;if(dc()){en=bF.innerHeight-(ek.pageY+ec.y)-20}else{en=ek.pageY-dV}var em=dZ();var eg=em==="bottomLeft"||em==="bottomRight"?"top":"bottom";if(el>=eh&&el<=ee){df.style.left=el+"px";if(!dT()){df.style.right="unset"}}if(en>=50&&en<=ef){df.style[eg]=en+"px"}}};var dt=function(){var ec={position:dZ(),top:df.style.top,left:df.style.left,bottom:df.style.bottom,right:df.style.right};bC.setObject(c8,ec)};var dZ=function(){var ec=bC.getObject(cM);var ed=typeof ec.position==="string"&&ec.position!==""&&cU();return ed?ec.position:"bottomRight"};var dc=function(){var ec=dZ();return ec==="topLeft"||ec==="topRight"};var dT=function(){var ec=dZ();return ec==="topLeft"||ec==="bottomLeft"};var db=function(){var ec=dZ();var ef=bF.roistat.onlineChat.customPosition;var ed=ef&&ef.top!==null?ef.top:dY[ec].top;var eg=ef&&ef.right!==null?ef.right:dY[ec].right;var eh=ef&&ef.bottom!==null?ef.bottom:dY[ec].bottom;var ee=ef&&ef.left!==null?ef.left:dY[ec].left;df=ds.getElementsByClassName(ea)[0];df.setAttribute("style","top: "+ed+";right:"+eg+";bottom:"+eh+";left:"+ee+";")};var da=function(){var ec=dZ();dw.setAttribute("style","top: "+dn[ec].top+";bottom:"+dn[ec].bottom+";height:"+dn[ec].height+";")};var dG=function(){dh("iframe appending to page");var ec=bH.decode(bC.get(cO));ds=u.createElement("div");ds.className=dU;ds.innerHTML=ec;u.body.appendChild(ds);dw=u.getElementsByClassName(dD)[0];db();dr()};var c6=function(){var ed=bC.getObject(cM);dh("start filling pulsator");if(ed){d9.setAttribute("style","background: "+ed.button_color+";");d2.setAttribute("style","fill: "+ed.icon_color+";");for(var ec=0;ec<d0.length;ec++){d0[ec].setAttribute("style","fill: "+ed.button_color+";")}}};var d5=function(){var ed=bH.decode(bC.get(cL));if(ed&&!cU()&&!bF.roistatOnlineChatOnly){dh("pulsator appending to page");var ec=u.createElement("div");ec.innerHTML=ed;dk=ec.childNodes.item(0);d9=dk.getElementsByClassName(dP)[0];d2=dk.getElementsByClassName(de)[0];d0=u.getElementsByClassName(dA);u.body.appendChild(dk);eb();c6()}};var eb=function(){c5(dk,"click",function(){dd()})};var dH=function(){return !ds.classList.contains(dU)};var dd=function(){setTimeout(function(){du=false},3000);ds.classList.toggle(dU);if(dH()){dI()}dC()};var dj=function(){dS=true;bF.roistatOnlineChatShow=dd;dh("chat window initialized")};function dl(ec){c0=ec;dE()}function d1(){d5();dG();dW()}bF.setRoistatOnlineChatCustomParams=dl;bR(d1)}};function cW(c6){p("Widgets: "+c6)}function cF(c6){return c6!==c4}function cH(c6){c0=c6}function cU(){var c9=Number(bC.get(bc)),c8=Number(bC.get(aL)),da=Number(bC.get(b1)),db=Number(bC.get(bq)),dc=Number(bC.get(C)),dd=Number(bC.get(bS)),c7=c9&&!da&&!db&&!dc&&!dd,c6=da&&!c9&&!db&&!dc&&!dd;return c8&&!c6&&!c7&&!bF.roistatOnlineChatOnly}function cJ(c6,c8,c7){bC.set(cY,bH.encode(c6));bC.set(c2,bH.encode(c8));bC.setObject(cX,c7)}function cP(c7,c6){bC.set(cQ,bH.encode(c7));bC.setObject(cM,c6)}function cN(c7,c6){bC.set(cL,bH.encode(c7));bC.set(cO,bH.encode(c6))}function cS(c6,c8,c7){cJ(c6,c8,c7);bC.set(cQ,bH.encode(c4));bC.set(cO,bH.encode(c4));cV=false;c1.leadHunter()}function cI(dg,dd,db){cW("start initing widgets");var c8=dg.form_template,dh=dg.pulsator_template,da=dg.pulsator_settings,de=db.pulsator_template,c9=db.iframe_template,df=dd.pulsator_template,c6=dd.pulsator_settings,dc=Number(bC.get(bc)),c7=Number(bC.get(b1));cJ(c8,dh,da);cP(df,c6);cN(de,c9);cV=true;if(dc&&!bF.roistatOnlineChatOnly){cW("leadhunter enabled. Start processing");c1.leadHunter()}if(c7){cW("online chat enabled. Start processing");c1.onlineChat()}if(cU()){cW("multiwidget enabled. Start processing");c1.multiwidget()}}function c3(){var c7=bC.get(cY),dg=bC.get(c2),c9=bC.getObject(cX),dc=bC.get(cL),c8=bC.get(cO),de=bC.get(cQ),c6=bC.getObject(cM);bF.roistatLeadhunterForm=cS;bF.roistatMultiwidget=cI;if(!c7||!dg||!c9||!de||!c6||!dc){cW("requesting data from server");ax(aK()+"//"+q+"/api/site/"+Q+"/"+aF()+"/multiwidget?domain="+encodeURIComponent(u.domain))}else{var dh=bH.decode(de);var dd=bH.decode(c8);if((!cF(dh)||!cF(dd)||cT())&&!bF.roistatOnlineChatOnly){cW("initing LeadHunter form");bF.roistatLeadhunterForm(bH.decode(c7),bH.decode(dg),c9)}else{cW("initing multiwidget form");var da={pulsator_template:dh,pulsator_settings:c6},db={form_template:bH.decode(c7),pulsator_template:bH.decode(dg),pulsator_settings:c9},df={iframe_template:dd,pulsator_template:bH.decode(dc)};bF.roistatMultiwidget(db,da,df)}}}function cT(){if(aF()==="86ee03e4ba0f978620d7a0ee0e2e51dc"&&bF.location.host==="roistat.com"){cW("Current project and page is Roistat.com. Drop init multiwidget");return true}return false
}function cR(){var c6=false;var c7=bF.onload;bF.onload=function(){if(c7){c7()}if(!c6){c6=true;cW("form initialized in window.onload");c3()}};setTimeout(function(){if(!c6){c6=true;cW("form initialized after timeout");c3()}},5000)}function cZ(){cW("activated");cR()}bR(cZ);bF.setRoistatOnlineChatCustomParams=cH;bF.roistatSaveLeadHunterTemplates=cJ;bF.roistatSaveMultiwidgetTemplate=cP;bF.roistatSaveOnlineChatTemplate=cN})();(function o(){var cS=function(){return h(cA)};var cQ=function(){return bC.get(aT)};var cJ=function(){return bC.get(a4)};var cW=function(cY){return cY!=null&&cY!==bb&&cY!==""};var cV=function(){var cY=[];var cZ=u.getElementsByClassName(X);if(cZ&&cZ.length){cY=cZ}return cY};var cH=function(){var cY=[];var cZ=u.getElementsByClassName(t);if(cZ&&cZ.length){cY=cZ}return cY};var cG=function(){var cY=[];var cZ=u.getElementsByClassName(S);if(cZ&&cZ.length){cY=cZ}return cY};var cL=function(){var cY=[];var cZ=u.getElementsByClassName(w);if(cZ&&cZ.length){cY=cZ}return cY};var cO=function(){var cY=[];var cZ=u.getElementsByClassName(ct);if(cZ&&cZ.length){cY=cZ}return cY};var cF=function(db,cZ){p("CallTracking: RenderPhone phone = "+db);var c4=function(dd){return dd.split(/[^0-9]/).join("")};var c5=function(dg,di){var dl=null;if(!dg){return dl}var dd=di.split(",");if(dd.length<2){dl=di}else{var de=dg.getAttribute("data-prefix");if(de){for(var dh=0;dh<dd.length;dh++){var dj=dd[dh];var dk=c4(dj);if(dk.indexOf("8")===0){dk="7"+dk.substring(1)}var df=dk.split(de)[0]==="";if(df){dl=dj;break}}}if(dl===null){dl=dd[0]}p("CallTracking._getPhoneForElement: Prepared phone = "+dl+" for data-prefix = "+de)}return dl};var c2=function(dh,df){var dd=c5(dh,df);if(!dd||!dh){return}if(dh.tagName.toLowerCase()!=="a"){return}var dg=dh.getAttribute("href");if(ck(dg,"tel:")){var de=c4(dd);if(de.indexOf("8")===0){de="7"+de.substring(1)}dh.setAttribute("href","tel:+"+de);c3(dh,dd)}};var c3=function(de,dd){if(!de.hasAttribute("title")){return}de.setAttribute("title",dd)};var c7=function(df,de){var dd=c5(df,de);if(!dd||!df){return}df.innerHTML=dd};var dc=function(dd){var de=cV();p("CallTracking: render phone default classes for "+de.length+" elements");n(de,function(df){c7(df,dd);c2(df,dd)});n(cH(),function(dg){var df=c4(c5(dg,dd)).slice(0,1);c7(dg,df)});n(cG(),function(dg){var dh=c5(dg,dd).match(/\((.*)\)/);if(dh!==null){var df=dh[1];c7(dg,df)}});n(cL(),function(dh){var df=c5(dh,dd).match(/\)(.*)/);if(df!==null){var di=c4(df[1]);var dg=di.slice(-1*di.length,-4)+"-"+di.slice(-4,-2)+"-"+di.slice(-2);c7(dh,dg)}});n(cO(),function(df){c2(df,dd)})};var da=function(dd,di){if(!di){return}p("CallTracking: render phone user replacement for "+di.length+" replacements");for(var dh=0;dh<di.length;dh++){var dk=di[dh];if(!dk){continue}var df=dk[0];dk=dk.substr(1);var dj=[];if(df==="#"){var dg=u.getElementById(dk);if(dg!==null){dj.push(dg)}}else{dj=u.getElementsByClassName(dk);c1(dk,dd)}if(!dj||dj.length<1){continue}p("CallTracking: render phone for "+dk+", "+dj.length+" elements");for(var de=0;de<dj.length;de++){c7(dj[de],dd);c2(dj[de],dd)}}};var c6=function(dd){for(var de=0;de<dd.length;de++){da(dd[de].phone,dd[de].css_selectors);c9(dd[de].phone,dd[de].replaceable_numbers)}};var c9=function(df,de){if(!de||de.length===0){return}var dd=function(){var dr=dj();var dq=u.getElementsByTagName("*");var dk=dq.length;for(var dp=0;dp<dk;dp++){var ds=dq[dp];dg(ds,dr,c5(ds,df));var dn=ds.childNodes.length;for(var dl=0;dl<dn;dl++){var dm=ds.childNodes[dl];di(dm,dr,c5(dm,df))}}};var dg=function(dp,dn,dk){if(!dh(dp)){return}var dq=dp.getAttribute("href").replace("tel:","");var dm=dn.length;for(var dl=0;dl<dm;dl++){if(dn[dl].test(dq)){c2(dp,c5(dp,dk))}}};var dh=function(dl){if(dl.tagName.toLowerCase()!=="a"){return false}var dk=dl.getAttribute("href");return aB(dk)&&dk.indexOf("tel:")===0};var dj=function(){var dm=[];for(var dk=0;dk<de.length;dk++){var dl="[\\s()[\\]{}\\-+.]*";var dn=de[dk].split("").join(dl);dm.push(new RegExp("[+(]?"+dn,"g"))}return dm};var di=function(dn,dm,dk){if(dn.nodeType!==Node.TEXT_NODE){return}for(var dl=0;dl<dm.length;dl++){if(dn.textContent&&dm[dl].test(dn.textContent)){dn.textContent=dn.textContent.replace(dm[dl],dk)}else{if(dn.innerText&&dm[dl].test(dn.innerText)){dn.innerText=dn.innerText.replace(dm[dl],dk)}}}};dd()};var c1=function(de,dd){n(c0(de+"-"+bi),function(dg){var df=c4(c5(dg,dd)).slice(0,1);c7(dg,df)});n(c0(de+"-"+aq),function(dg){var dh=c5(dg,dd).match(/\((.*)\)/);if(dh!==null){var df=dh[1];c7(dg,df)}});n(c0(de+"-"+aS),function(dh){var df=c5(dh,dd).match(/\)(.*)/);if(df!==null){var di=c4(df[1]);var dg=di.slice(-1*di.length,-4)+"-"+di.slice(-4,-2)+"-"+di.slice(-2);c7(dh,dg)}});n(c0(de+"-"+bt),function(df){c2(df,dd)})};var c0=function(de){var dd=[];var df=u.getElementsByClassName(de);if(df&&df.length){dd=df}return dd};var c8=function c8(){var de=cJ();if(de){de=de.split("\n");for(var dd=0;dd<de.length;dd++){de[dd]="."+de[dd]}}if(cZ instanceof Array){c6(cZ)}else{dc(db);da(db,de)}};(function cY(){c8();var dd=[300,5000,15000];dd.forEach(function(de){setTimeout(c8,de)
})})()};var cI=function(cY){bC.save(k,cY,b8)};var cR=function(){if(bF.roistat.callTracking.phone){var cY={expires:parseInt(bF.roistat.callTracking.sessionTime),path:"/"};if(b8.domain){cY.domain=b8.domain}cu(cA,bF.roistat.callTracking.phone,cY);cI(1);bC.save(a4,bF.roistat.callTracking.replacementClasses,b8);bC.save(aT,bF.roistat.callTracking.phoneScriptsJson,b8)}};var cP=function(cY,c2,c0,cZ){p("CallTracking: reuse phone "+cY+" for time "+c2+" and replacements "+c0);if(!cW(cY)){p("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cn();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=cY;roistat.callTracking.sessionTime=c2;roistat.callTracking.replacementClasses=c0;roistat.callTracking.phoneScriptsJson=cZ;cn();cR();var c3={expires:parseInt(c2),path:"/"};if(b8.domain){c3.domain=b8.domain}cu(cA,cY,c3);bC.save(aT,cZ,b8);bC.save(a4,c0,b8);var c1=cq(cZ);if(c1==null){cF(cY)}else{cF(cY,c1)}};var cK=function(){p("CallTracking: request new phone");var cY=h(by);var c2=U();var c1=c2?c2:a5;var c0=encodeURIComponent(bQ);var cZ=A()+"/get-phone?visit="+cY+"&marker="+(c1?c1:"")+"&prefix="+bX+"&prefix_bind="+cB+"&phone_scripts_bind="+D+"&page="+c0;ax(cZ)};var cM=function(){bX=bF.roistatPhonePrefix?bF.roistatPhonePrefix:"";cB=bF.roistatPhonePrefixBind?bF.roistatPhonePrefixBind:"";D=bF.roistatCalltrackingScripts&&bF.roistatCalltrackingScripts.join?bF.roistatCalltrackingScripts.join(","):"";p("CallTracking: refresh phone with prefix: "+bX+", binding: "+cB+", scripts: "+D);cK()};var cX=function(){var cY=bC.get(k)>0;var cZ=bp.callTrackingEnabled;return cY&&cZ};var cN=function(cY){cI(cY.is_enabled)};var cU=function cU(){var cY=cS();if(!cW(cY)){p("CallTracking: invalid phone "+cY+", requesting a new one");cK()}else{p("CallTracking: render phone "+cY);var cZ=cq(cQ());if(cZ==null){cF(cY)}else{cF(cY,cZ)}}};var cT=function(){p("CallTracking: init");if(bF.roistatOnlineChatOnly){p("CallTracking: Shut down because only online chat need to be inited");return}cR();if(!cX()){p("CallTracking: disabled, skip");return}if(bp.callTrackingManual){p("CallTracking: init finish because off manual");return}cU();ad(cU)};bF.roistatCallTrackingRefresh=cM;bF.roistatRequestNewPhone=cK;bF.roistatReusePhone=cP;bF.roistatCalltrackingUpdateSettings=cN;bR(cT)})();(function s(){var cH=function(cN){p("Emailtracking: "+cN)};var cL=function(cN,cP,cO){bC.save(a3,cN,b8);bC.save(b,cP,b8);bC.save(bf,JSON.stringify(cO),b8)};var cG=function(){var cN=(bF.roistat.emailtracking.email&&bF.roistat.emailtracking.trackingEmail)||ar(bF.roistat.emailtracking.emails);if(bF.roistat.emailtracking.loaded&&cN){cH("save loaded email: "+bF.roistat.emailtracking.email);cL(bF.roistat.emailtracking.email,bF.roistat.emailtracking.trackingEmail,bF.roistat.emailtracking.emails)}else{cH("settings save skip, because not loaded");bF.roistat.emailtracking.email=bC.get(a3);bF.roistat.emailtracking.email=bF.roistat.emailtracking.email?bF.roistat.emailtracking.email:null;bF.roistat.emailtracking.email=bF.roistat.emailtracking.email==="null"?null:bF.roistat.emailtracking.email;cH("email loaded from storage: "+bF.roistat.emailtracking.email);bF.roistat.emailtracking.trackingEmail=bC.get(b);bF.roistat.emailtracking.trackingEmail=bF.roistat.emailtracking.trackingEmail?bF.roistat.emailtracking.trackingEmail:null;bF.roistat.emailtracking.trackingEmail=bF.roistat.emailtracking.trackingEmail==="null"?null:bF.roistat.emailtracking.trackingEmail;cH("tracking email loaded from storage: "+bF.roistat.emailtracking.trackingEmail);bF.roistat.emailtracking.emails=cq(bC.get(bf));bF.roistat.emailtracking.emails=bF.roistat.emailtracking.emails?bF.roistat.emailtracking.emails:null;cH("emails loaded from storage: "+JSON.stringify(bF.roistat.emailtracking.emails))}};var cJ=function(cN){cL(cN.email,cN.trackingEmail,cN.emails)};var cI=function(){var cN=(!!bF.roistat.emailtracking.email&&!!bF.roistat.emailtracking.trackingEmail)||ar(bF.roistat.emailtracking.emails);return bF.roistat.emailtracking.enabled&&cN};var cF=function(){if(!cI()){cH("emailtracking disabled, skip swapping");return}var cO=function(cS,cT,cR){if(cS.href){if(cT.test(cS.href)){cS.href=cS.href.replace(cT,cR);return true}}if(cS.nodeType!==3){return false}if(cS.textContent&&cT.test(cS.textContent)){cS.textContent=cS.textContent.replace(cT,cR);return true}else{if(cS.innerText&&cT.test(cS.innerText)){cS.innerText=cS.innerText.replace(cT,cR);return true}}return false};var cN=function(cR){return cR.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var cP=function(cT,cS){var cR=!cS.match(/[a-z]/);return cR?cT.toUpperCase():cT};var cQ=function(cZ,c1){var c2=cN(cZ);var cT=new RegExp("(^|\\s)(mailto:)?("+c2+")($|\\s|\\?)","gi");var c3=function(c8,c6,c4,c5,c7){c4=c4||"";return c6+c4+cP(c1,c5)+c7};cH("starting to replace email "+cZ+" to "+c1+" with regexp "+cT);var cS=u.getElementsByTagName("*");var cV=cS.length;cH("found "+cV+" nodes on page");var cY=0;for(var cX=0;cX<cV;cX++){var cU=cS[cX];var c0=cU.childNodes.length;if(c0>0){for(var cW=0;
cW<c0;cW++){var cR=cU.childNodes[cW];if(cO(cR,cT,c3)){cY++}}}if(cO(cU,cT,c3)){cY++}}cH("successfully replaced "+cY+" nodes")};if(bF.roistat.emailtracking.emails){aW(bF.roistat.emailtracking.emails,cQ)}else{cQ(bF.roistat.emailtracking.email,bF.roistat.emailtracking.trackingEmail)}};var cK=function(){cH("process email swap");cF();setTimeout(function(){cF()},300);setTimeout(function(){cF()},5000);setTimeout(function(){cF()},15000)};var cM=function(){cH("init");if(bF.roistatOnlineChatOnly){cH("Shut down because only online chat need to be inited");return}ad(cK);cG();cK()};bF.roistatEmailtrackingUpdateSettings=cJ;bF.roistat.emailtracking.refresh=cF;bR(cM)})();(function aY(){var cI=function(cK){p("MultiDomain: "+cK)};var cH=function(){return bC.get(ca)>0};var cG=function(cO){var cP=function(cR){if(!cR){return false}if(ck(cR,"roistat_visit")){return false}var cQ=aJ(cR);var cT=aJ(u.domain);var cS=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return cQ!==cT&&cS.test(cR)};var cN=function(cT){var cU=cT.split("#");var cS=cU[0].split("?");var cQ="";var cR="";if(cS.length===2){cQ=cS[1]}if(cQ){cR="&"}cQ=cQ+cR+"roistat_visit="+roistat.getVisit();cS[1]=cQ;cU[0]=cS.join("?");return cU.join("#")};if(cO.tagName.toLowerCase()!=="a"){return}var cM=cO.getAttribute("href");var cL=false;if(cP(cM)){var cK=cN(cM);cI("update url "+cM+" > "+cK);cO.setAttribute("href",cK);cL=true}return cL};var cF=function(){if(!cH()){cI("disabled, skip");return}var cK=u.getElementsByTagName("a");var cL=cK.length;cI("found "+cL+" <a> nodes on page");var cO=0;for(var cM=0;cM<cL;cM++){var cN=cK[cM];if(cG(cN)){cO++}}cI("replaced "+cO+" nodes")};var cJ=function(){cI("init");if(bF.roistatOnlineChatOnly){cI("Shut down because only online chat need to be inited");return}cF();setTimeout(function(){cF()},300);setTimeout(function(){cF()},5000);setTimeout(function(){cF()},15000)};bR(cJ)})();(function ci(){var cF=60*1000;var cO=2*60*1000;var cH="roistat_last_settings_update_time";var cG=function(cQ){p("SettingsUpdater: "+cQ)};var cK=function(){return bC.get(cH)};var cM=function(){bC.set(cH,bG())};var cN=function(){var cR=cK();var cQ=!(cR>0);cG("is first update check: lastUpdateTime="+cR+", result="+(cQ?1:0));return cQ};var cP=function(){var cS=bG()-cO;var cR=cK();var cQ=cR<=cS;cG("expiration check: _minTime="+cS+", lastUpdateTime="+cR+", result="+(cQ?1:0));return cQ};var cJ=function(){var cQ=h(by);a(cQ)};var cI=function(cR){cG("update settings and save last update time");var cQ=bC.getObject(m)!==null;if(cQ){bC.set(m,cR.js_settings.leadHunterTargetPagesMap)}bF.roistatCalltrackingUpdateSettings(cR.calltracking);bF.roistatEmailtrackingUpdateSettings(cR.emailtracking);bF.roistatSaveLeadHunterTemplates(cR.leadhunter_templates.form_template,cR.leadhunter_templates.pulsator_template,cR.leadhunter_templates.pulsator_settings);bF.roistatSaveMultiwidgetTemplate(cR.multiwidget_templates.pulsator_template,cR.multiwidget.pulsator_settings);bF.roistatSaveOnlineChatTemplate(cR.online_chat_templates.pulsator_template,cR.online_chat_templates.iframe_template);bF.roistatSaveProxyFormSettings(cR.proxy_forms);aM(cR.js_settings);b9(cR.multiwidget.multiwidget_settings);if(Number(bC.get(b1))!==Number(cR.online_chat.is_enabled)){bC.set(b1,Number(cR.online_chat.is_enabled))}bA.isSettingsUpdating=false;cM()};var cL=function(){cG("init");if(cN()){cG("in first update we just start first timer and skip");cM();return}if(!cP()){cG("update is not not expired, skip");return}cG("start to update settings");cJ()};bR(function(){bF.roistatUpdateSettings=cI;setTimeout(function(){cL()},3000);cG("set interval to update settings");setInterval(function(){cL()},cF)})})();(function bm(cJ,cF,cL){var cI={};var cG=function(cN){var cM=encodeURIComponent?encodeURIComponent:encodeURI;return cM(cN)};var cH=function(cT,cN){p("Reach goal start");if(!cT){cT={}}var cQ={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:bT(),is_skip_sending:0,items:"",placeholders_data:""};for(var cP in cQ){if(!Object.prototype.hasOwnProperty.call(cQ,cP)){continue}if(!Object.prototype.hasOwnProperty.call(cT,cP)){continue}if(!cT[cP]){continue}if(cP==="fields"||cP==="client_fields"||cP==="items"||cP==="placeholders_data"){cT[cP]=JSON.stringify(cT[cP])}cQ[cP]=cG(cT[cP])}var cS=aF();var cR=aK()+"//"+q+"/api/site/"+Q+"/"+cS+"/reach-goal?v=2";for(var cO in cQ){if(!Object.prototype.hasOwnProperty.call(cQ,cO)){continue}cR=cR+"&"+cO+"="+cQ[cO]}if(cN!==cL){var cM=Math.random().toString();cI[cM]=cN;cR+="&callback_key="+cM}ax(cR);p("Reach goal completed")};var cK=cJ.roistatGoal={reach:function(cN,cM){cH(cN,cM)},callAfterReachCallback:function(cM){if(Object.prototype.hasOwnProperty.call(cI,cM)){cI[cM]();delete cI[cM]}}}})(bF,u,bb);(function cw(cH,cF,cI){var cG=function(cN){if(cN instanceof Array||cN===null||typeof cN!=="object"){p("Invalid event data");return""}var cK=[];for(var cM in cN){if(Object.prototype.hasOwnProperty.call(cN,cM)){var cL=cN[cM];
if(typeof cL==="string"||typeof cL==="number"){cK.push("data["+encodeURIComponent(cM)+"]="+encodeURIComponent(cL))}else{p("Event data property ignored: "+cM)}}}return cK.length>0?"&"+cK.join("&"):""};var cJ=function(cM,cN){p("Send event start");var cK=l();var cL=A()+"/event/register?visit="+cK+"&event="+cM+cG(cN);ax(cL);p("Send event completed")};cH.roistat.event={send:function(cK,cL){cJ(cK,cL)}}})(bF,u,bb);(function bD(cP,cR,cI){if(cP.roistatOnlineChatOnly){p("VisitApprove: Shut down because only online chat need to be inited");return}var cS=cP.roistatIsInitVisit===true?20000:10000;var cH=(new Date()).getTime();var cG=function(cW){return"approve_visit_"+cW};var cO=function(cW){bv.set(cG(cW),1)};var cT=function(cW){return bv.get(cG(cW))>0};var cF,cK,cV=[];if(cR.addEventListener){cF=function(cX,cW,cY){return cX.addEventListener(cW,cY,false)};cK=function(cX,cW,cY){return cX.removeEventListener(cW,cY,false)}}else{cF=function(cX,cW,cY){return cX.attachEvent("on"+cW,cY)};cK=function(cX,cW,cY){return cX.detachEvent("on"+cW,cY)}}var cN=function(cZ){if(cV.length>30){return}cZ=cZ||cP.event;if(!cZ||!cZ.screenX){return}var cY=(new Date()).getTime();var c1,c0=null;if(cV.length>0){c0=cV[cV.length-1]}if(c0){c1=cY-c0.time}else{c1=cY-cH}if(c1<300){return}c1=c1-300;var c3=0;var cW=cZ.screenX;var c2=cZ.screenY;if(c0){c3=parseInt(Math.sqrt(Math.pow(c0.y-c2,2)+Math.pow(c0.x-cW,2)))}var cX={time:cY,pauseBeforeMove:c1,x:cW,y:c2,distance:c3};cV.push(cX)};var cM=function(){var cW=[];n(cV,function(cX){var cY=[cX.pauseBeforeMove,cX.distance];cW.push(cY.join(":"))});if(cW.length===0){cW.push("0:0")}return cW.join("|")};var cJ=function(){for(var cW in cP){if(ck(cW,"yaCounter")){return true}}return false};var cQ=function(){cK(cR,"mousemove",cN);var cW=l();p("VisitApprove: start for visit "+cW);if(cT(cW)){p("VisitApprove: visit already approved, skip");return}cO(cW);af();var cX=A()+"/approve?v="+H+"&visit="+cW;if(cU()){cX+="&hash="+Z()}if(cL()){cX+="&page_params="+encodeURIComponent(JSON.stringify(cP.roistat.page.params));e()}cX+="&mv="+cM();cX+="&pl="+(cP.navigator?cP.navigator.platform:"");cX+="&ym="+(cJ()?"1":"0");ax(cX)};var cU=function(){var c0=bA.cookies,cZ=j();var c2=aP();for(var cX=0;cX<c2.length;cX++){var c1=c2[cX];var c3=Object.prototype.hasOwnProperty.call(c0,c1)?c0[c1]:cI;var cW=Object.prototype.hasOwnProperty.call(cZ,c1)?cZ[c1]:cI;var cY=typeof cW==="string"&&cW.length>0;if(cY&&c3!==cW){return true}}return false};var cL=function(){var c1=bA.pageParams,cY=cP.roistat.page.params;for(var cX=0;cX<bY.length;cX++){var cW=bY[cX];var cZ=Object.prototype.hasOwnProperty.call(c1,cW)?c1[cW]:null;var c0=Object.prototype.hasOwnProperty.call(cY,cW)?cY[cW]:null;if(c0!==cZ){return true}}return false};setTimeout(function(){cQ()},cS);cF(cR,"mousemove",cN)})(bF,u,bb);(function ae(cK,cL,cG){var cI=function(){return K("roistat_ab_demo")==="1"};var cM=function(cP){return new RegExp(cP.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var cJ=function(cU){var cP=cK.location.href,cS=cU.filter,cY=cU.filterValue;var cV;switch(cS){case"except":case"pages":var cQ,cX,cW=false;cX=cP?ap(cP):"";cV=cY?cY.split("\n"):[];if(cX&&cV.length!==0){for(var cR=0;cR<cV.length;cR++){var cT=cV[cR].trim();if(cT.length===0){continue}cQ=cM(cT);if(cQ.test(cX)){cW=true;break}}}return(cS==="pages")?cW:!cW;break;case"all":default:return true}};var cF=function(cR){var cP=cL.getElementsByTagName("head")[0],cQ;cQ=cL.createElement("style");cQ.setAttribute("type","text/css");if(cQ.styleSheet){cQ.styleSheet.cssText=cR.value}else{cQ.innerText=cR.value}cP.appendChild(cQ)};var cH=function(cP){if(cJ(cP)){switch(cP.type){case"css":cF(cP);break}}};cK.applyTests=function(){var cP=bC.getObject("abTesting");var cR,cQ;for(cR in cP){if(!Object.prototype.hasOwnProperty.call(cP,cR)){continue}cQ=cP[cR];cH(cQ)}};var cN=function(){p("Call: apply demo AB test");var cP=K("roistat_ab_data");var cQ;if(cP===null){return}else{cQ=JSON.parse(bH.decode(cP))}if(typeof cQ!=="object"){p("Error: testValue is not an object.");return}cH(cQ)};function cO(){if(cK.roistatOnlineChatOnly){p("ABTest: Shut down because only online chat need to be inited");return}var cP=cI();if(!cf&&!cP){applyTests()}if(cP){cN()}}cO()})(bF,u,bb);(function aN(cG,cF,cH){if(cG.roistatOnlineChatOnly){p("visitStreamNew: Shut down because only online chat need to be inited");return}if(!ch){return}setTimeout(function(){(function(cO,cN,cR,cQ,cL,cJ,cM){cO[cL]={COUNTER_ID:cJ,HOST:cM};var cK=cN.location.protocol=="https:"?"https://":"http://";var cI=cN.createElement(cR);cI.async=1;cI.src=cK+cM+cQ;var cP=cN.getElementsByTagName(cR)[0];cP.parentNode.insertBefore(cI,cP)})(cG,cF,"script","/counter.js","datamap",aF(),ch)},1000)})(bF,u,bb);(function bB(cH,cF,cI){var cJ=function(){var cK=cH.roistatMetrikaCounterId;if(cK){bC.set(az,cK)}};var cG=function(cP){var cK="yaCounter"+cP;var cO=100,cM=0,cN=60000;var cL=function(){cM+=cO;p("YandexMetrika: trying to access counter "+cP);if(cH[cK]===cI){if(cM<cN){setTimeout(cL,cO);cO*=2}return}var cQ={};
cQ[b5]=l();cH[cK].params(cQ);p("YandexMetrika: visit id "+cQ[b5]+" sent to counter "+cP)};setTimeout(cL,cO)};bR(function(){cJ();var cM=bC.get(az);if(!cM){p("YandexMetrika: counter id not found");return}var cL=String(cM).split(",");p("YandexMetrika: counters: "+cL);for(var cK=0;cK<cL.length;cK++){if(cL[cK].trim()===""){continue}cG(cL[cK])}})})(bF,u,bb);(function aa(cP,cT){var cX=function(c0){p("Proxy Forms: "+c0)};var cM=function(){if(cP.roistat.proxyForms.loaded&&cP.roistat.proxyForms.settings.length>0){cX("save loaded settings");cU(cP.roistat.proxyForms.settings)}else{cX("settings not loaded, getting from storage");cP.roistat.proxyForms.settings=bC.getObject(cv)||[]}};var cU=function(c0){bC.setObject(cv,c0)};var cQ=function(){cX("init form listener");cI(cP.roistat.proxyForms.settings);cF(cP.roistat.proxyForms.settings)};var cZ=function(c0){return c0.hasOwnProperty("hosts")&&c0.hasOwnProperty("is_excluding_hosts")&&a2(c0.hosts)&&c0.hosts.length>0};var cK=function(c1){if(!cZ(c1)){return true}var c2=co(c1.hosts,cP.location.host);var c0=Boolean(c1.is_excluding_hosts);return c0?!c2:c2};var cH=function(c1){var c0=[];n(c1,function(c2){if(cK(c2)){c0.push(c2)}});return c0};var cF=function(c0){var c2=[];n(c0,function(c3){if(c3.type==="js-button"){c2.push(c3)}});if(c2.length<1){cX("no button settings");return}var c1;if(cT.addEventListener){c1=function(c3){cL(c2,c3,c3.target,cJ)};cT.addEventListener("click",c1,true)}else{if(cT.attachEvent){c1=function(){var c3=cP.event;cL(c2,c3,c3.srcElement,cJ,true)};cT.attachEvent("onclick",c1)}else{cX("Listener could not be attached")}}};var cI=function(c1){var c0=[];n(c1,function(c3){if(c3.type==="form"){c0.push(c3)}});if(c0.length<1){cX("no form settings");return}if(cT.addEventListener){var c2=function(c3){cL(c0,c3,c3.target,cY)};cT.addEventListener("submit",c2,true)}else{if(cT.attachEvent){setInterval(function(){c0=cH(c0);var c3=cT.getElementsByTagName("form");n(c3,function(c4){if(c4.getAttribute("data-roistat-proxy-form-checked")==="true"){return}c4.setAttribute("data-roistat-proxy-form-checked","true");n(c0,function(c5){if(cG(c4,c5.selector)){c4.attachEvent("onsubmit",function(){cP.event.returnValue=false;cY(c5,cP.event.srcElement)})}})})},2000)}else{cX("Listener could not be attached")}}};var cL=function(c3,c4,c5,c2,c0){var c6=cH(c3);var c1=null;n(c6,function(c7){if(cG(c5,c7.selector)){c1=c7}});if(c1===null){cX("No matched settings found for listener");return}c2(c4,c1,c5,c0)};var cY=function(c4,c2,c3,c1){var c0=cS(c3,c2);if(!cV(c0,c2)){return}c1?c4.returnValue=false:c4.preventDefault();cN(c0,c2,function(){HTMLFormElement.prototype.submit.call(c3)})};var cJ=function(c2,c1){var c0=cS(null,c1);if(!cV(c0,c1)){return}cN(c0,c1)};var cN=function(c0,c3,c5){var c4={};var c2=cO(c3.crm)&&c3.crm.hasOwnProperty("is_enabled");var c1=c2?c3.crm.is_enabled:true;c4.leadName=c3.hasOwnProperty("lead_name")?c3.lead_name:"    "+c3.title;c4.formTitle=c3.title;c4.name=c0.name;c4.phone=c0.phone;c4.email=c0.email;c4.text=c0.comment;c4.fields=c0.fields;c4.placeholders_data=c0.placeholdersData;c4.is_need_callback=c3.is_need_callback>0?1:0;c4.is_skip_sending=!c1;cP.roistatGoal.reach(c4,c5)};var cO=function(c0){return(typeof c0==="number"&&!isNaN(c0))||(typeof c0==="string"&&c0!=="")||(typeof c0==="object"&&c0!==null)||(typeof c0==="boolean"&&c0)||a2(c0)};var cV=function(c0,c2){var c1=[],c4=["name","email","phone","comment"];n(c4,function(c5){if(c2.hasOwnProperty(c5)&&c2[c5].required>0){c1.push(c5)}});if(a2(c2.fields)){n(c2.fields,function(c5){if(c5.required>0){c1.push(c5)}})}var c3=true;n(c1,function(c5){if(!c0.hasOwnProperty(c5)||!cO(c0[c5])){c3=false}});return c3};var cS=function(c2,c1){var c0={};c0.name=c1.name?cR(c2,c1.name.value,c1.name.type):"";c0.phone=c1.phone?cR(c2,c1.phone.value,c1.phone.type):"";c0.email=c1.email?cR(c2,c1.email.value,c1.email.type):"";c0.comment=c1.comment?cR(c2,c1.comment.value,c1.comment.type):"";c0.fields={};c0.placeholdersData={orderPage:bQ};if(a2(c1.fields)){n(c1.fields,function(c3){c0.fields[c3.name]=cR(c2,c3.value,c3.type)})}return c0};var cR=function(c1,c4,c0){switch(c0){case"plain":return c4||"";case"input":var c3=c1.querySelector('input[name="'+c4+'"]');return c3?c3.value:"";case"js":try{return(new Function(c4))()}catch(c2){return""}}};var cW=function(){cX("init");if(cP.roistatOnlineChatOnly){cX("Shut down because only online chat need to be inited");return}if(!cP.roistat.proxyForms.enabled){cX("disabled");return}cM();cQ()};var cG=function(c3,c1){if(typeof Element!=="undefined"&&Element.prototype.matches){var c0=c3.matches(c1);if(!c0){return c3.closest(c1)?c3.closest(c1).matches(c1):false}return c0}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var c4=c3.matchesSelector(c1);if(!c4){return c3.closest(c1)?c3.closest(c1).matches(c1):false}return c4}else{if(cT.querySelectorAll){var c5=cT.querySelectorAll(c1);for(var c2=0;c2<c5.length;c2++){if(c5[c2]===c3){return true}}return false}}}return false};bR(cW);cP.roistatSaveProxyFormSettings=cU
})(bF,u);(function z(){if(bF.onRoistatAllModulesLoaded!==bb&&typeof bF.onRoistatAllModulesLoaded==="function"){bF.onRoistatAllModulesLoaded()}})();(function aG(cM,cP,cJ){var cF=function(){return bC.get(V)*1>0};var cO=function(cV){p("Request listener: "+cV)};var cU=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var cN=/^[^\s]+[@][^\s]+$/g;var cI=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var cH=function cH(){cO("listen");if(cM.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function cX(c0){var cZ=this;cQ(cZ.responseURL,c0,function(){cZ.oldSend(c0)})}XMLHttpRequest.prototype.send=cX}if(cM.ActiveXObject){var cW=cY;function cY(c1){var cZ=new cW(c1);var c2={};if(c1.toLowerCase()==="msxml2.xmlhttp"){c2={_ax:cZ,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var c0="";c2._onReadyStateChange=function(){var c3=c2;return function(){c3.readyState=c3._ax.readyState;if(c3.readyState===4){c3.responseText=c3._ax.responseText;c3.responseXml=c3._ax.responseXml;c3.status=c3._ax.status;c3.statusText=c3._ax.statusText}if(c3.onReadyStateChange){c3.onReadyStateChange()}}}();c2.open=function(c7,c5,c6,c3,c4){c0=c5;c6=(c6!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(c7,c5,c6,c3,c4)};c2.send=function(c3){var c4=this;cQ(c0,c3,function(){this._ax.send(c3)})}}else{c2=cZ}return c2}cM.ActiveXObject=cY}if(cM.fetch){var cV=fetch;fetch=function(cZ,c0){cQ(cZ.url,c0||{});return cV(cZ,c0||{})}}cM.addEventListener("submit",function(c2){var c4=c2.target.elements;var c3={};for(var c1=0;c1<c4.length;c1++){var c0=c4[c1];var cZ=c0.getAttribute("name");c3[cZ]=c0.value}cQ("",c3)})};function cK(cV){var cY={};if(cV.length===0){return cY}var cX=cV.split("?");if(cX.length<2){return cY}var cW=cX[1];cY=cG(cW);return cY}function cG(cW){var cX=cW.split("&"),cZ={};for(var cV=0;cV<cX.length;cV++){var cY=cX[cV].split("=");if(cY.length<2){continue}cZ[cY[0]]=cY[1]}return cZ}function cS(dc){cO("data: "+JSON.stringify(dc));var c5={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var c2={email:"",phone:"",name:""};for(var cV in c5){var c8=c5[cV];for(var c7 in c8){if(c8.hasOwnProperty(c7)){if(dc.hasOwnProperty(c8[c7])){c2[cV]=dc[c8[c7]];break}}}}cO("new data: "+JSON.stringify(c2));var cX=c2.phone.length===0;var c1=c2.email.length===0;if(!cX&&!c1){return c2}var cW=new RegExp(cN);var c0=new RegExp(cU);var c3=Object.keys(dc);for(var c9=0;c9<c3.length;c9++){var c6=decodeURIComponent(String(dc[c3[c9]]));if(c1){var cY=c6.match(cW);if(cY&&cY.length>0){var c4=c2.email;c2.email=cY[0];cO("parsing email, before: "+c4+", after: "+c2.email)}}if(cX){var db=c6.replace(/[\s-.()+*_:;'"`]/g,"");var da=db.match(c0);if(da&&da.length>0){var cZ=c2.phone;c2.phone=c6;cO("parsing phone, before: "+cZ+", after: "+c2.phone)}}}return c2}var cL=function(cV){var cW=aJ(cV);return !ab(cI,cW)};function cQ(cX,cW,cV){if(cX.length>0&&!cL(cX)){return}var cZ=cK(cX);var c1=cW;if(typeof c1==="string"){c1=cG(c1)}cO("data before parsing "+JSON.stringify({get:cZ,post:c1}));var c0=cS(cZ);var cY=cS(c1);cO("data after parsing "+JSON.stringify({get:c0,post:cY}));cR(c0,cY,cV)}function cR(cV,cX,c1){var c0=cV.email.length>0?cV.email:cX.email;var cW=cV.phone.length>0?cV.phone:cX.phone;var cZ=cV.name.length>0?cV.name:cX.name;if(c0.length==0&&cW.length==0){c1();return}setTimeout(function(){c1()},100);var cY={leadName:"   ",name:cZ,phone:cW,email:c0,is_skip_sending:1};cO("phone or email is not empty, reaching goal "+JSON.stringify(cY));roistatGoal.reach(cY)}(function cT(){if(!cF()){cO("disabled, skip");return}cH()})()})(bF,u,bb)})(window,document,undefined);